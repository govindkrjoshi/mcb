{"id":"mcb-061","title":"State Machine Logic","description":"**Story 4: State Machine Logic**\n\nAs a library developer, I want to implement the circuit breaker state machine so that the system correctly transitions between Closed, Open, and HalfOpen states based on failure rates and timeouts.\n\n## Description\nImplement the core state transition logic including Closed→Open when failure threshold exceeded, lazy Open→HalfOpen after wait duration, HalfOpen→Closed when test requests succeed, and HalfOpen→Open when test requests fail.\n\n## Acceptance Criteria\n- shouldOpen checks if failure rate \u003e= threshold and window has minimum calls (5 minimum)\n- shouldTransitionToHalfOpen checks if current time \u003e= lastStateTransition + waitDuration\n- transitionToOpen updates state to Open, resets sliding window, records transition time\n- transitionToHalfOpen updates state to HalfOpen, resets halfOpenAttempts to 0\n- transitionToClosed updates state to Closed, resets sliding window\n- recordSuccess/recordFailure in each state behave correctly\n- isCallPermitted returns correct values for each state\n- Property test: state machine never enters invalid state\n- Property test: all state transitions follow defined rules\n- Unit tests for all state transitions\n\n## Technical Notes\n- Use UTCTime for timestamp comparisons (from Data.Time)\n- Lazy evaluation means state only transitions on next call\n- Minimum call count prevents opening circuit with too little data\n\n**Estimated Effort:** 3 days\n**Phase:** 2 - Core Circuit Breaker\n**Dependencies:** Story 1, Story 2, Story 3","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-19T15:50:33.639701+05:30","updated_at":"2026-01-08T12:59:35.309982+05:30","closed_at":"2026-01-08T12:59:35.309982+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-061","depends_on_id":"mcb-0p2","type":"blocks","created_at":"2025-12-19T15:57:08.310847+05:30","created_by":"daemon"},{"issue_id":"mcb-061","depends_on_id":"mcb-r5b","type":"blocks","created_at":"2025-12-19T15:57:08.497517+05:30","created_by":"daemon"},{"issue_id":"mcb-061","depends_on_id":"mcb-512","type":"blocks","created_at":"2025-12-19T15:57:08.695108+05:30","created_by":"daemon"}]}
{"id":"mcb-061.1","title":"Implement state transition predicates","description":"Create shouldOpen (failure rate \u003e= threshold AND min calls), shouldTransitionToHalfOpen (time elapsed \u003e= waitDuration). Pure functions.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:28.798696+05:30","updated_at":"2026-01-08T12:59:29.86581+05:30","closed_at":"2026-01-08T12:59:29.86581+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-061.1","depends_on_id":"mcb-061","type":"parent-child","created_at":"2025-12-19T16:00:28.802525+05:30","created_by":"daemon"}]}
{"id":"mcb-061.2","title":"Implement Closed state logic","description":"Implement recordSuccess/recordFailure in Closed state. recordFailure checks shouldOpen and transitions if needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:29.01293+05:30","updated_at":"2026-01-08T12:59:29.962242+05:30","closed_at":"2026-01-08T12:59:29.962242+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-061.2","depends_on_id":"mcb-061","type":"parent-child","created_at":"2025-12-19T16:00:29.014029+05:30","created_by":"daemon"},{"issue_id":"mcb-061.2","depends_on_id":"mcb-061.1","type":"blocks","created_at":"2025-12-19T16:00:38.001963+05:30","created_by":"daemon"}]}
{"id":"mcb-061.3","title":"Implement Open state logic","description":"Implement isCallPermitted for Open (checks timeout, lazy transition to HalfOpen). recordSuccess/recordFailure stay Open.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:29.190382+05:30","updated_at":"2026-01-08T12:59:30.062454+05:30","closed_at":"2026-01-08T12:59:30.062454+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-061.3","depends_on_id":"mcb-061","type":"parent-child","created_at":"2025-12-19T16:00:29.191174+05:30","created_by":"daemon"},{"issue_id":"mcb-061.3","depends_on_id":"mcb-061.1","type":"blocks","created_at":"2025-12-19T16:00:38.177704+05:30","created_by":"daemon"}]}
{"id":"mcb-061.4","title":"Implement HalfOpen state logic","description":"Implement isCallPermitted (check attempt limit), recordSuccess (increment attempts, close if limit reached), recordFailure (immediate Open).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:29.369749+05:30","updated_at":"2026-01-08T12:59:30.168424+05:30","closed_at":"2026-01-08T12:59:30.168424+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-061.4","depends_on_id":"mcb-061","type":"parent-child","created_at":"2025-12-19T16:00:29.370725+05:30","created_by":"daemon"},{"issue_id":"mcb-061.4","depends_on_id":"mcb-061.1","type":"blocks","created_at":"2025-12-19T16:00:38.351828+05:30","created_by":"daemon"}]}
{"id":"mcb-061.5","title":"Implement state transition functions","description":"Create transitionToOpen, transitionToHalfOpen, transitionToClosed. Each resets appropriate state and records timestamp.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:29.551184+05:30","updated_at":"2026-01-08T12:59:30.276127+05:30","closed_at":"2026-01-08T12:59:30.276127+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-061.5","depends_on_id":"mcb-061","type":"parent-child","created_at":"2025-12-19T16:00:29.552048+05:30","created_by":"daemon"},{"issue_id":"mcb-061.5","depends_on_id":"mcb-061.2","type":"blocks","created_at":"2025-12-19T16:00:38.52094+05:30","created_by":"daemon"},{"issue_id":"mcb-061.5","depends_on_id":"mcb-061.3","type":"blocks","created_at":"2025-12-19T16:00:38.62498+05:30","created_by":"daemon"},{"issue_id":"mcb-061.5","depends_on_id":"mcb-061.4","type":"blocks","created_at":"2025-12-19T16:00:38.728366+05:30","created_by":"daemon"}]}
{"id":"mcb-061.6","title":"Property tests for state machine","description":"Hedgehog properties: no invalid states, transitions follow rules, Closed-\u003eOpen only, Open-\u003eHalfOpen only, HalfOpen-\u003eClosed or Open.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:29.732901+05:30","updated_at":"2026-01-08T12:59:30.374565+05:30","closed_at":"2026-01-08T12:59:30.374565+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-061.6","depends_on_id":"mcb-061","type":"parent-child","created_at":"2025-12-19T16:00:29.73369+05:30","created_by":"daemon"},{"issue_id":"mcb-061.6","depends_on_id":"mcb-061.5","type":"blocks","created_at":"2025-12-19T16:00:38.904275+05:30","created_by":"daemon"}]}
{"id":"mcb-061.7","title":"Unit tests for state transitions","description":"Test each transition: Closed-\u003eOpen threshold, Open-\u003eHalfOpen timeout, HalfOpen-\u003eClosed success, HalfOpen-\u003eOpen failure.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:29.911851+05:30","updated_at":"2026-01-08T12:59:30.489753+05:30","closed_at":"2026-01-08T12:59:30.489753+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-061.7","depends_on_id":"mcb-061","type":"parent-child","created_at":"2025-12-19T16:00:29.912667+05:30","created_by":"daemon"},{"issue_id":"mcb-061.7","depends_on_id":"mcb-061.5","type":"blocks","created_at":"2025-12-19T16:00:39.121917+05:30","created_by":"daemon"}]}
{"id":"mcb-0p2","title":"Core Data Types \u0026 Configuration","description":"**Story 1: Core Data Types \u0026 Configuration**\n\nAs a library developer, I want to define the core data types and configuration system so that users can create and configure circuit breakers with validated settings.\n\n## Description\nImplement the foundational types including State, CircuitBreakerState, CircuitBreaker, and CircuitBreakerConfig. Create smart constructors with validation for all configuration values (FailureThreshold, SlidingWindow, WaitDuration, etc.) and a builder pattern API for ergonomic configuration.\n\n## Acceptance Criteria\n- State ADT defined with Closed, Open, and HalfOpen constructors\n- CircuitBreakerState record contains: currentState, slidingWindow, lastStateTransition, halfOpenAttempts\n- CircuitBreaker record contains: cbName, cbConfig, cbState (TVar)\n- CircuitBreakerConfig record contains: failureThreshold, slidingWindowSize, waitDurationMs, permittedCallsInHalfOpen, exceptionPredicate, onStateTransition\n- Newtype wrappers created for: FailureThreshold, SlidingWindow, WaitDuration, HalfOpenPermits\n- Smart constructor mkFailureThreshold validates: 0 \u003c threshold \u003c= 1\n- Smart constructor mkSlidingWindow validates: windowSize \u003e 0\n- Smart constructor mkWaitDuration validates: duration \u003e= 0\n- Smart constructor mkHalfOpenPermits validates: permits \u003e 0\n- All smart constructors return Either String for validation errors\n- defaultConfig provided with sensible defaults\n- Builder pattern operators (\u0026, setFailureThreshold, etc.) allow chaining\n- All types have Eq, Show instances where appropriate\n- Haddock documentation for all public types and functions\n- Unit tests verify validation rules reject invalid values\n\n## Technical Notes\n- Use newtype wrappers to prevent mixing up configuration parameters\n- Smart constructors ensure type-safe construction after validation\n- Builder pattern should use lens-style operators for familiarity\n\n**Estimated Effort:** 2 days\n**Phase:** 1 - Foundation\n**Dependencies:** None","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-19T15:50:18.642851+05:30","updated_at":"2025-12-19T17:29:58.60027+05:30","closed_at":"2025-12-19T17:29:58.60027+05:30","close_reason":"Core types implemented with State ADT, newtype wrappers, smart constructors, CircuitBreakerConfig, defaultConfig, builder pattern, and 33 passing tests.","dependencies":[{"issue_id":"mcb-0p2","depends_on_id":"mcb-vz9","type":"blocks","created_at":"2025-12-19T16:09:48.924503+05:30","created_by":"daemon"},{"issue_id":"mcb-0p2","depends_on_id":"mcb-wla","type":"blocks","created_at":"2025-12-19T16:09:49.02838+05:30","created_by":"daemon"},{"issue_id":"mcb-0p2","depends_on_id":"mcb-5wo","type":"blocks","created_at":"2025-12-19T16:09:49.130186+05:30","created_by":"daemon"}]}
{"id":"mcb-0pe","title":"Concurrent operation property tests","description":"Properties: concurrent reads see consistent state, concurrent updates maintain invariants. Use async for threads","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:55.337448+05:30","updated_at":"2025-12-19T16:01:55.337448+05:30","dependencies":[{"issue_id":"mcb-0pe","depends_on_id":"mcb-tq5","type":"blocks","created_at":"2025-12-19T16:02:01.319994+05:30","created_by":"daemon"},{"issue_id":"mcb-0pe","depends_on_id":"mcb-nkv","type":"blocks","created_at":"2025-12-19T16:02:07.353698+05:30","created_by":"daemon"}]}
{"id":"mcb-0vg","title":"Concurrent access correctness tests","description":"Test 10 threads x 1000 requests maintain correct state, no lost requests during transitions, HalfOpen tracking accurate.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:55.623624+05:30","updated_at":"2025-12-19T16:01:55.623624+05:30","dependencies":[{"issue_id":"mcb-0vg","depends_on_id":"mcb-8h1","type":"blocks","created_at":"2025-12-19T16:02:03.771308+05:30","created_by":"daemon"}]}
{"id":"mcb-0zl","title":"Bulkhead pattern","description":"Implement TSem-based bulkhead for concurrency limiting. Files: src/CircuitBreaker/Bulkhead.hs, test/Test/Unit/Bulkhead.hs","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T15:09:22.531179+05:30","updated_at":"2026-01-08T15:24:24.288327+05:30","closed_at":"2026-01-08T15:24:24.288327+05:30","close_reason":"Implemented resilience patterns with tests (299 tests passing)"}
{"id":"mcb-1h7","title":"Create example callback implementations","description":"Provide logToStdout, logWithTimestamp example callbacks for documentation. Parent: mcb-nbg.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:24.093106+05:30","updated_at":"2025-12-19T16:01:24.093106+05:30","dependencies":[{"issue_id":"mcb-1h7","depends_on_id":"mcb-nbg","type":"blocks","created_at":"2025-12-19T16:01:31.991957+05:30","created_by":"daemon"},{"issue_id":"mcb-1h7","depends_on_id":"mcb-3ot","type":"blocks","created_at":"2025-12-19T16:01:32.100732+05:30","created_by":"daemon"}]}
{"id":"mcb-1j1","title":"Implement sliding window core operations","description":"Implement newSlidingWindow, insertResult (with FIFO eviction and cached count update), reset.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:27.211187+05:30","updated_at":"2026-01-08T12:30:23.894789+05:30","closed_at":"2026-01-08T12:30:23.894789+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-1j1","depends_on_id":"mcb-r5b","type":"blocks","created_at":"2025-12-19T16:00:36.224536+05:30","created_by":"daemon"},{"issue_id":"mcb-1j1","depends_on_id":"mcb-x24","type":"blocks","created_at":"2025-12-19T16:00:36.423045+05:30","created_by":"daemon"}]}
{"id":"mcb-2s1","title":"Implement defaultConfig and builder pattern","description":"Create defaultConfig (50% threshold, 100 calls, 60s wait, 10 half-open permits). Implement builder operators (\u0026, setFailureThreshold, etc.) for ergonomic configuration.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:28.737232+05:30","updated_at":"2025-12-19T17:29:58.611152+05:30","closed_at":"2025-12-19T17:29:58.611152+05:30","close_reason":"Core types implemented with State ADT, newtype wrappers, smart constructors, CircuitBreakerConfig, defaultConfig, builder pattern, and 33 passing tests.","dependencies":[{"issue_id":"mcb-2s1","depends_on_id":"mcb-0p2","type":"blocks","created_at":"2025-12-19T16:00:36.685381+05:30","created_by":"daemon"},{"issue_id":"mcb-2s1","depends_on_id":"mcb-e10","type":"blocks","created_at":"2025-12-19T16:00:45.441883+05:30","created_by":"daemon"},{"issue_id":"mcb-2s1","depends_on_id":"mcb-jft","type":"blocks","created_at":"2025-12-19T16:00:45.624251+05:30","created_by":"daemon"}]}
{"id":"mcb-34s","title":"Race condition tests","description":"Test circuit opening during concurrent requests, rapid state transitions, multiple CBs operating independently.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:56.22478+05:30","updated_at":"2025-12-19T16:01:56.22478+05:30","dependencies":[{"issue_id":"mcb-34s","depends_on_id":"mcb-8h1","type":"blocks","created_at":"2025-12-19T16:02:04.295217+05:30","created_by":"daemon"},{"issue_id":"mcb-34s","depends_on_id":"mcb-dqb","type":"blocks","created_at":"2025-12-19T16:02:11.214169+05:30","created_by":"daemon"}]}
{"id":"mcb-39p","title":"Define State ADT","description":"Define the State algebraic data type with Closed, Open, HalfOpen constructors. Add Eq, Show, Bounded, Enum instances.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:28.027499+05:30","updated_at":"2025-12-19T17:29:58.602802+05:30","closed_at":"2025-12-19T17:29:58.602802+05:30","close_reason":"Core types implemented with State ADT, newtype wrappers, smart constructors, CircuitBreakerConfig, defaultConfig, builder pattern, and 33 passing tests.","dependencies":[{"issue_id":"mcb-39p","depends_on_id":"mcb-0p2","type":"blocks","created_at":"2025-12-19T16:00:35.850593+05:30","created_by":"daemon"}]}
{"id":"mcb-3md","title":"Type-level Haddock documentation","description":"Document all public types: State, CircuitBreaker, CircuitBreakerConfig, SlidingWindow, exceptions.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:55.20053+05:30","updated_at":"2026-01-08T13:30:48.197258+05:30","closed_at":"2026-01-08T13:30:48.197258+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-3md","depends_on_id":"mcb-ehm","type":"blocks","created_at":"2025-12-19T16:02:03.564289+05:30","created_by":"daemon"},{"issue_id":"mcb-3md","depends_on_id":"mcb-d7x","type":"blocks","created_at":"2025-12-19T16:02:10.582373+05:30","created_by":"daemon"}]}
{"id":"mcb-3ot","title":"Integrate callbacks with state machine","description":"Call configured callback (or default OTel) on each state transition. Ensure exactly-once semantics. Parent: mcb-nbg.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:23.901956+05:30","updated_at":"2025-12-19T16:01:23.901956+05:30","dependencies":[{"issue_id":"mcb-3ot","depends_on_id":"mcb-nbg","type":"blocks","created_at":"2025-12-19T16:01:31.711687+05:30","created_by":"daemon"},{"issue_id":"mcb-3ot","depends_on_id":"mcb-6uj","type":"blocks","created_at":"2025-12-19T16:01:31.814845+05:30","created_by":"daemon"}]}
{"id":"mcb-3uw","title":"Define CircuitBreakerException hierarchy","description":"Create parent CBException type to allow catching all CB exceptions. CircuitOpenException as subtype.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:22.918346+05:30","updated_at":"2026-01-08T12:43:37.84666+05:30","closed_at":"2026-01-08T12:43:37.84666+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-3uw","depends_on_id":"mcb-kns","type":"blocks","created_at":"2025-12-19T16:01:30.322677+05:30","created_by":"daemon"},{"issue_id":"mcb-3uw","depends_on_id":"mcb-6gr","type":"blocks","created_at":"2025-12-19T16:01:30.500755+05:30","created_by":"daemon"}]}
{"id":"mcb-4wj","title":"Memory stability tests","description":"Verify no memory leaks during 30+ second stress test. Monitor heap usage.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:56.575161+05:30","updated_at":"2025-12-19T16:01:56.575161+05:30","dependencies":[{"issue_id":"mcb-4wj","depends_on_id":"mcb-8h1","type":"blocks","created_at":"2025-12-19T16:02:04.63024+05:30","created_by":"daemon"},{"issue_id":"mcb-4wj","depends_on_id":"mcb-5tg","type":"blocks","created_at":"2025-12-19T16:02:11.593135+05:30","created_by":"daemon"}]}
{"id":"mcb-512","title":"STM State Management","description":"**Story 3: STM State Management**\n\nAs a library developer, I want to implement STM-based state management so that circuit breaker state updates are thread-safe and atomic.\n\n## Description\nImplement creation, reading, and updating of CircuitBreakerState using STM transactions. This includes creating new circuit breakers with initialized TVar state, atomic read operations for checking circuit state, and atomic write operations for recording results.\n\n## Acceptance Criteria\n- newCircuitBreaker creates CircuitBreaker with TVar-wrapped initial state\n- Initial state is Closed with empty sliding window and current timestamp\n- readState performs atomic STM read of current CircuitBreakerState\n- updateState performs atomic STM write of new CircuitBreakerState\n- getCurrentState extracts just the State value atomically\n- getFailureRate reads sliding window failure rate atomically\n- All STM operations are composable with other STM transactions\n- STM retry semantics work correctly when multiple threads compete\n- Thread-safety test: 100 concurrent threads performing reads don't block excessively\n- Thread-safety test: concurrent reads and writes maintain consistency\n- Unit test: initial state is Closed\n- Performance test: 1000 sequential reads/writes complete in \u003c10ms\n\n## Technical Notes\n- Use Control.Concurrent.STM.TVar for state storage\n- Keep STM transactions small and fast to minimize retry overhead\n- Don't perform IO inside STM transactions\n\n**Estimated Effort:** 1 day\n**Phase:** 1 - Foundation\n**Dependencies:** Story 1, Story 2","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-19T15:50:29.72626+05:30","updated_at":"2026-01-08T12:46:38.942881+05:30","closed_at":"2026-01-08T12:46:38.942881+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-512","depends_on_id":"mcb-0p2","type":"blocks","created_at":"2025-12-19T15:57:07.926263+05:30","created_by":"daemon"},{"issue_id":"mcb-512","depends_on_id":"mcb-r5b","type":"blocks","created_at":"2025-12-19T15:57:08.121826+05:30","created_by":"daemon"}]}
{"id":"mcb-5ir","title":"Add exceptionPredicate to config","description":"Add exceptionPredicate :: SomeException -\u003e Bool field to CircuitBreakerConfig. Parent: mcb-d7m","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:53.918656+05:30","updated_at":"2026-01-08T14:36:17.885076+05:30","closed_at":"2026-01-08T14:36:17.885076+05:30","close_reason":"exceptionPredicate field already exists in CircuitBreakerConfig (Types.hs line 238)","dependencies":[{"issue_id":"mcb-5ir","depends_on_id":"mcb-d7m","type":"blocks","created_at":"2025-12-19T16:01:03.276566+05:30","created_by":"daemon"}]}
{"id":"mcb-5jx","title":"Make minimumCallsForOpen configurable in CircuitBreakerConfig","description":"","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-08T18:22:09.986208+05:30","updated_at":"2026-01-08T18:22:09.986208+05:30"}
{"id":"mcb-5tg","title":"Composition under load tests","description":"Test timeout + CB composition with concurrent load, state callbacks fire exactly once.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:56.402712+05:30","updated_at":"2025-12-19T16:01:56.402712+05:30","dependencies":[{"issue_id":"mcb-5tg","depends_on_id":"mcb-8h1","type":"blocks","created_at":"2025-12-19T16:02:04.464264+05:30","created_by":"daemon"},{"issue_id":"mcb-5tg","depends_on_id":"mcb-34s","type":"blocks","created_at":"2025-12-19T16:02:11.405046+05:30","created_by":"daemon"}]}
{"id":"mcb-5wo","title":"Configure GHC warnings and options","description":"Set up strict GHC warnings for code quality.\n\n## GHC Options to Add\n```cabal\ncommon warnings\n  ghc-options:\n    -Wall\n    -Wcompat\n    -Widentities\n    -Wincomplete-record-updates\n    -Wincomplete-uni-patterns\n    -Wpartial-fields\n    -Wredundant-constraints\n    -Wmissing-export-lists\n    -Wmissing-deriving-strategies\n```\n\n## Additional Considerations\n- Enable `-Werror` in CI only (not in cabal file)\n- Consider `StrictData` extension for performance\n- Document any disabled warnings with rationale\n\n## Acceptance Criteria\n- All library code compiles warning-free\n- Warnings catch common issues early","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T16:09:28.918334+05:30","updated_at":"2025-12-19T16:30:08.948324+05:30","closed_at":"2025-12-19T16:30:08.948324+05:30","close_reason":"GHC warnings configured, core dependencies added. Build and tests pass.","dependencies":[{"issue_id":"mcb-5wo","depends_on_id":"mcb-vz9","type":"blocks","created_at":"2025-12-19T16:09:39.972708+05:30","created_by":"daemon"}]}
{"id":"mcb-6gr","title":"Define CircuitOpenException","description":"Create CircuitOpenException with cbName field. Implement Exception, Show, Typeable. Message: \"Circuit breaker '{name}' is OPEN\"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:22.724499+05:30","updated_at":"2026-01-08T12:42:41.795123+05:30","closed_at":"2026-01-08T12:42:41.795123+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-6gr","depends_on_id":"mcb-kns","type":"blocks","created_at":"2025-12-19T16:01:30.134672+05:30","created_by":"daemon"}]}
{"id":"mcb-6uj","title":"Implement async callback invocation","description":"Execute callbacks in separate thread (forkIO) outside STM. Catch and log callback exceptions without crashing CB. Parent: mcb-nbg.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:23.713059+05:30","updated_at":"2025-12-19T16:01:23.713059+05:30","dependencies":[{"issue_id":"mcb-6uj","depends_on_id":"mcb-nbg","type":"blocks","created_at":"2025-12-19T16:01:31.428277+05:30","created_by":"daemon"},{"issue_id":"mcb-6uj","depends_on_id":"mcb-fyv","type":"blocks","created_at":"2025-12-19T16:01:31.530576+05:30","created_by":"daemon"}]}
{"id":"mcb-7gj","title":"Implement span creation for operations","description":"Create span for each withCircuitBreaker call with attributes: cb_name, state, permitted, result. Add error attribute on failure.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:26.454511+05:30","updated_at":"2025-12-19T16:01:26.454511+05:30","dependencies":[{"issue_id":"mcb-7gj","depends_on_id":"mcb-91u","type":"blocks","created_at":"2025-12-19T16:01:40.938046+05:30","created_by":"daemon"},{"issue_id":"mcb-7gj","depends_on_id":"mcb-n2d","type":"blocks","created_at":"2025-12-19T16:02:23.92589+05:30","created_by":"daemon"}]}
{"id":"mcb-7iv","title":"Add safe versions of builder setters (Either instead of error)","description":"","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T18:22:09.307216+05:30","updated_at":"2026-01-08T18:22:09.307216+05:30"}
{"id":"mcb-7od","title":"Document exception handling patterns","description":"Show how to catch CircuitOpenException, retry patterns, logging with context.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:23.301175+05:30","updated_at":"2026-01-08T12:48:14.523566+05:30","closed_at":"2026-01-08T12:48:14.523566+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-7od","depends_on_id":"mcb-kns","type":"blocks","created_at":"2025-12-19T16:01:31.073966+05:30","created_by":"daemon"},{"issue_id":"mcb-7od","depends_on_id":"mcb-clk","type":"blocks","created_at":"2025-12-19T16:01:31.281226+05:30","created_by":"daemon"}]}
{"id":"mcb-8h1","title":"Integration Tests with Real Concurrency","description":"**Story 14: Integration Tests with Real Concurrency**\n\nAs a library developer, I want integration tests with real concurrent scenarios so that I can verify the circuit breaker works correctly under production-like load.\n\n## Description\nWrite integration tests that simulate realistic usage patterns with multiple concurrent threads making requests through circuit breakers. Test race conditions, stress scenarios approaching 10k ops/sec, and state consistency under heavy load.\n\n## Acceptance Criteria\n- Test: 10 threads making 1000 concurrent requests each maintain correct state\n- Test: circuit breaker opens correctly under concurrent load\n- Test: no requests are lost during state transitions\n- Test: all requests in HalfOpen state are tracked correctly\n- Test: stress test with 100 threads reaching 10k ops/sec target\n- Test: latency overhead is \u003c1ms per operation under no contention\n- Test: latency overhead is \u003c5ms per operation under heavy contention\n- Test: no race conditions when circuit opens during concurrent requests\n- Test: multiple circuit breakers operating independently don't interfere\n- Test: rapid state transitions maintain consistency\n- Test: timeouts and circuit breakers composed work under load\n- Test: state transition callbacks fire exactly once per transition\n- Stress test runs for at least 30 seconds\n- Memory usage is stable (no leaks) during stress test\n- All tests pass consistently (no flaky tests)\n- Integration tests complete in \u003c2 minutes total\n\n## Technical Notes\n- Use async library for spawning concurrent threads\n- Use Criterion or gauge for performance measurements\n- Mock slow/failing operations using threadDelay\n- Consider parameterized tests for different concurrency levels\n\n**Estimated Effort:** 3 days\n**Phase:** 6 - Testing\n**Dependencies:** Story 5, Story 6, Story 7, Story 8","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-19T15:56:22.594828+05:30","updated_at":"2025-12-19T15:59:42.500788+05:30","dependencies":[{"issue_id":"mcb-8h1","depends_on_id":"mcb-uzv","type":"blocks","created_at":"2025-12-19T15:57:29.717397+05:30","created_by":"daemon"},{"issue_id":"mcb-8h1","depends_on_id":"mcb-d7m","type":"blocks","created_at":"2025-12-19T15:57:29.913354+05:30","created_by":"daemon"},{"issue_id":"mcb-8h1","depends_on_id":"mcb-rbu","type":"blocks","created_at":"2025-12-19T15:57:30.10723+05:30","created_by":"daemon"},{"issue_id":"mcb-8h1","depends_on_id":"mcb-8my","type":"blocks","created_at":"2025-12-19T15:57:39.527028+05:30","created_by":"daemon"}]}
{"id":"mcb-8my","title":"Timeout + Circuit Breaker Composition","description":"**Story 8: Timeout + Circuit Breaker Composition**\n\nAs a library user, I want to compose timeout and circuit breaker so that slow calls are cancelled and counted as failures.\n\n## Description\nEnsure that withTimeout and withCircuitBreaker compose correctly, with timeouts throwing exceptions that the circuit breaker catches and counts. Document composition order and behavior.\n\n## Acceptance Criteria\n- Composition `withTimeout t $ withCircuitBreaker cb action` works correctly\n- Timeout exceptions are caught by circuit breaker and counted as failures\n- Circuit breaker opens after repeated timeouts\n- Both composition orders produce equivalent behavior for CB logic\n- CircuitOpenException is not subject to timeout (fails immediately)\n- Default exception predicate counts TimeoutException as failure\n- User can configure predicate to ignore or count timeouts differently\n- Integration test: repeated timeouts cause circuit to open\n- Integration test: circuit opening happens before timeout can fire\n- Documentation shows recommended composition order\n- Example code demonstrates common patterns\n\n## Technical Notes\n- Recommended composition: `withTimeout duration $ withCircuitBreaker cb $ action`\n- Document that timeout should typically be outer combinator\n- Consider providing composed helper: `withTimedCircuitBreaker`\n\n**Estimated Effort:** 2 days\n**Phase:** 3 - Timeout Support\n**Dependencies:** Story 5, Story 7","status":"in_progress","priority":2,"issue_type":"epic","created_at":"2025-12-19T15:51:34.384889+05:30","updated_at":"2026-01-08T16:09:24.85521+05:30","dependencies":[{"issue_id":"mcb-8my","depends_on_id":"mcb-uzv","type":"blocks","created_at":"2025-12-19T15:57:18.329005+05:30","created_by":"daemon"},{"issue_id":"mcb-8my","depends_on_id":"mcb-rbu","type":"blocks","created_at":"2025-12-19T15:57:18.5243+05:30","created_by":"daemon"}]}
{"id":"mcb-8my.1","title":"Verify timeout + CB composition behavior","description":"Ensure withTimeout $ withCircuitBreaker cb action works correctly. Timeout exceptions caught by CB and counted as failures.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:53.004822+05:30","updated_at":"2026-01-08T18:22:23.81981+05:30","closed_at":"2026-01-08T18:22:23.81981+05:30","close_reason":"Implemented with comprehensive tests. See test/Test/Integration/TimeoutCircuitBreaker.hs and src/CircuitBreaker/Fallback.hs","dependencies":[{"issue_id":"mcb-8my.1","depends_on_id":"mcb-8my","type":"parent-child","created_at":"2025-12-19T16:00:53.005585+05:30","created_by":"daemon"}]}
{"id":"mcb-8my.2","title":"Integration tests for composition","description":"Test repeated timeouts open circuit, circuit opens before timeout fires (fail-fast), both composition orders work.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:53.173174+05:30","updated_at":"2025-12-19T16:00:53.173174+05:30","dependencies":[{"issue_id":"mcb-8my.2","depends_on_id":"mcb-8my","type":"parent-child","created_at":"2025-12-19T16:00:53.173965+05:30","created_by":"daemon"},{"issue_id":"mcb-8my.2","depends_on_id":"mcb-8my.1","type":"blocks","created_at":"2025-12-19T16:00:59.638257+05:30","created_by":"daemon"}]}
{"id":"mcb-8my.3","title":"Create withTimedCircuitBreaker helper","description":"Optional convenience combinator that composes timeout and CB in recommended order.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:53.346517+05:30","updated_at":"2025-12-19T16:00:53.346517+05:30","dependencies":[{"issue_id":"mcb-8my.3","depends_on_id":"mcb-8my","type":"parent-child","created_at":"2025-12-19T16:00:53.347278+05:30","created_by":"daemon"},{"issue_id":"mcb-8my.3","depends_on_id":"mcb-8my.1","type":"blocks","created_at":"2025-12-19T16:00:59.822569+05:30","created_by":"daemon"}]}
{"id":"mcb-8my.4","title":"Document composition patterns","description":"Write documentation explaining composition order, behavior differences, recommended patterns.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:53.517336+05:30","updated_at":"2025-12-19T16:00:53.517336+05:30","dependencies":[{"issue_id":"mcb-8my.4","depends_on_id":"mcb-8my","type":"parent-child","created_at":"2025-12-19T16:00:53.518255+05:30","created_by":"daemon"},{"issue_id":"mcb-8my.4","depends_on_id":"mcb-8my.2","type":"blocks","created_at":"2025-12-19T16:01:00.006549+05:30","created_by":"daemon"}]}
{"id":"mcb-8ov","title":"Fix flaky timing test (1ms timeout with pure action)","description":"","status":"open","priority":3,"issue_type":"bug","created_at":"2026-01-08T18:22:17.575431+05:30","updated_at":"2026-01-08T18:22:17.575431+05:30"}
{"id":"mcb-91c","title":"Configure cabal.project for development","description":"Set up cabal.project file for local development.\n\n## cabal.project Contents\n```cabal\npackages: .\n\n-- Pin GHC version for reproducibility\nwith-compiler: ghc-9.10.1\n\n-- Development settings\ntests: True\nbenchmarks: True\n\n-- Optional: use Stackage for dependency versions\n-- import: https://www.stackage.org/lts-23.0/cabal.config\n```\n\n## cabal.project.local (gitignored)\nFor personal developer overrides.\n\n## Reproducibility\n- Consider `cabal freeze` for CI\n- Document how to update dependencies\n\n## Acceptance Criteria\n- Consistent builds across developer machines\n- Easy to switch GHC versions for testing\n- Clear separation of project vs personal config","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:09:30.621555+05:30","updated_at":"2025-12-19T16:36:25.252605+05:30","closed_at":"2025-12-19T16:36:25.252605+05:30","close_reason":"Haddock generates docs successfully (100% coverage). cabal.project created with dev settings.","dependencies":[{"issue_id":"mcb-91c","depends_on_id":"mcb-vz9","type":"blocks","created_at":"2025-12-19T16:09:40.189808+05:30","created_by":"daemon"}]}
{"id":"mcb-91u","title":"OpenTelemetry Integration","description":"**Story 9: OpenTelemetry Integration (Optional)**\n\nAs a library user, I want circuit breaker metrics exported to OpenTelemetry so that I can monitor circuit breaker behavior in my observability stack.\n\n## Description\nIntegrate with the hs-opentelemetry-api library to export circuit breaker metrics (state gauges, call counters, latency histograms) and create spans for circuit breaker operations. Make this integration optional via cabal flag.\n\n## Acceptance Criteria\n- Cabal flag 'opentelemetry' controls inclusion (default: True)\n- CPP directives conditionally compile OpenTelemetry code based on flag\n- Metric: circuit_breaker_state gauge (0=Closed, 1=Open, 2=HalfOpen) per CB name\n- Metric: circuit_breaker_calls_total counter with labels: cb_name, result\n- Metric: circuit_breaker_state_transitions_total counter with labels\n- Metric: circuit_breaker_operation_duration_seconds histogram\n- Metrics are updated atomically after each operation\n- Span created for each withCircuitBreaker call with attributes\n- State transition generates event in current span\n- Unit test with flag enabled: metrics are recorded\n- Unit test with flag disabled: code compiles and runs without OpenTelemetry\n- Documentation explains how to enable/disable OpenTelemetry\n\n## Technical Notes\n- Use hs-opentelemetry-api (not the SDK) to avoid implementation lock-in\n- Wrap OpenTelemetry calls in CPP #ifdef OPENTELEMETRY blocks\n- Provide no-op implementations when flag disabled\n\n**Estimated Effort:** 2 days\n**Phase:** 4 - Observability\n**Dependencies:** Story 5","status":"in_progress","priority":2,"issue_type":"epic","created_at":"2025-12-19T15:54:57.176318+05:30","updated_at":"2026-01-08T16:09:24.864323+05:30","dependencies":[{"issue_id":"mcb-91u","depends_on_id":"mcb-uzv","type":"blocks","created_at":"2025-12-19T15:57:18.722036+05:30","created_by":"daemon"}]}
{"id":"mcb-9k1","title":"Performance tests for STM operations","description":"Verify 1000 sequential reads/writes complete in \u003c10ms. Benchmark STM retry overhead. Parent: mcb-512","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:29.863395+05:30","updated_at":"2026-01-08T12:46:35.105116+05:30","closed_at":"2026-01-08T12:46:35.105116+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-9k1","depends_on_id":"mcb-512","type":"blocks","created_at":"2025-12-19T16:00:37.618191+05:30","created_by":"daemon"},{"issue_id":"mcb-9k1","depends_on_id":"mcb-aqu","type":"blocks","created_at":"2025-12-19T16:00:44.829528+05:30","created_by":"daemon"}]}
{"id":"mcb-9mc","title":"Define CircuitBreaker handle type","description":"Create CircuitBreaker record with cbName :: Text, cbConfig :: CircuitBreakerConfig, cbState :: TVar CircuitBreakerState. Parent: mcb-512","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:29.147086+05:30","updated_at":"2026-01-08T12:46:30.549077+05:30","closed_at":"2026-01-08T12:46:30.549077+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-9mc","depends_on_id":"mcb-512","type":"blocks","created_at":"2025-12-19T16:00:36.810844+05:30","created_by":"daemon"},{"issue_id":"mcb-9mc","depends_on_id":"mcb-d2b","type":"blocks","created_at":"2025-12-19T16:00:43.985364+05:30","created_by":"daemon"}]}
{"id":"mcb-9we","title":"State machine property tests","description":"Properties: no invalid states, Closed-\u003eOpen only when threshold exceeded, Open-\u003eHalfOpen only after timeout, HalfOpen-\u003eClosed or Open only","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:54.967288+05:30","updated_at":"2025-12-19T16:01:54.967288+05:30","dependencies":[{"issue_id":"mcb-9we","depends_on_id":"mcb-tq5","type":"blocks","created_at":"2025-12-19T16:02:01.11113+05:30","created_by":"daemon"},{"issue_id":"mcb-9we","depends_on_id":"mcb-li8","type":"blocks","created_at":"2025-12-19T16:02:07.022896+05:30","created_by":"daemon"}]}
{"id":"mcb-abq","title":"Fix premature circuit opening under timeout storm","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-08T18:22:00.415184+05:30","updated_at":"2026-01-08T20:02:48.338379+05:30","closed_at":"2026-01-08T20:02:48.338379+05:30","close_reason":"Fixed: Scale minimumCallsForOpen with window size max(5, windowSize/10). Circuit only opens with statistical significance."}
{"id":"mcb-aqu","title":"Implement STM read/write operations","description":"Implement readState, updateState, getCurrentState, getFailureRate as composable STM operations. Parent: mcb-512","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:29.504497+05:30","updated_at":"2026-01-08T12:46:30.743612+05:30","closed_at":"2026-01-08T12:46:30.743612+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-aqu","depends_on_id":"mcb-512","type":"blocks","created_at":"2025-12-19T16:00:37.210489+05:30","created_by":"daemon"},{"issue_id":"mcb-aqu","depends_on_id":"mcb-oy5","type":"blocks","created_at":"2025-12-19T16:00:44.420791+05:30","created_by":"daemon"}]}
{"id":"mcb-azc","title":"Rate Limiter pattern","description":"Implement token bucket rate limiter with STM. Files: src/CircuitBreaker/RateLimiter.hs, test/Test/Unit/RateLimiter.hs","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T15:09:22.300809+05:30","updated_at":"2026-01-08T15:24:24.286608+05:30","closed_at":"2026-01-08T15:24:24.286608+05:30","close_reason":"Implemented resilience patterns with tests (299 tests passing)"}
{"id":"mcb-bkz","title":"Set up Haddock documentation","description":"Configure documentation generation with Haddock.\n\n## Tasks\n- Ensure all public modules have module-level docs\n- Configure haddock options in cabal file\n- Set up doctest for example verification (optional)\n\n## Cabal Configuration\n```cabal\nlibrary\n  -- Haddock options\n  haddock-options: --show-extensions\n```\n\n## Documentation Standards\n- Every exported function has Haddock comment\n- Include usage examples in @example blocks\n- Use @since annotations for API tracking\n- Link related functions with single quotes\n\n## Optional: Doctest\n```cabal\ntest-suite doctests\n  type:          exitcode-stdio-1.0\n  main-is:       doctests.hs\n  build-depends: base, doctest\n```\n\n## Acceptance Criteria\n- `cabal haddock` generates documentation\n- No Haddock warnings\n- Examples in docs are verified (if doctest enabled)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:09:29.700913+05:30","updated_at":"2025-12-19T16:36:25.250022+05:30","closed_at":"2025-12-19T16:36:25.250022+05:30","close_reason":"Haddock generates docs successfully (100% coverage). cabal.project created with dev settings.","dependencies":[{"issue_id":"mcb-bkz","depends_on_id":"mcb-vz9","type":"blocks","created_at":"2025-12-19T16:09:40.853278+05:30","created_by":"daemon"}]}
{"id":"mcb-bv8","title":"Optimize SlidingWindow for larger sizes with unboxed representation","description":"","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-08T18:22:17.795084+05:30","updated_at":"2026-01-08T18:22:17.795084+05:30"}
{"id":"mcb-c8c","title":"Add operation ID/name field to TimeoutException for tracing","description":"","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-08T18:22:18.030543+05:30","updated_at":"2026-01-08T18:22:18.030543+05:30"}
{"id":"mcb-clk","title":"Unit tests for exception types","description":"Test specific catch, SomeException catch, message includes CB name, pattern matching works.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:23.113134+05:30","updated_at":"2026-01-08T12:46:33.102574+05:30","closed_at":"2026-01-08T12:46:33.102574+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-clk","depends_on_id":"mcb-kns","type":"blocks","created_at":"2025-12-19T16:01:30.689895+05:30","created_by":"daemon"},{"issue_id":"mcb-clk","depends_on_id":"mcb-3uw","type":"blocks","created_at":"2025-12-19T16:01:30.884577+05:30","created_by":"daemon"}]}
{"id":"mcb-cva","title":"Make withResilience polymorphic over MonadIO/MonadMask","description":"","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T18:22:09.081852+05:30","updated_at":"2026-01-08T18:22:09.081852+05:30"}
{"id":"mcb-d2b","title":"Define CircuitBreakerState record","description":"Create record with currentState :: State, slidingWindow :: SlidingWindow, lastStateTransition :: UTCTime, halfOpenAttempts :: Int. Parent: mcb-512","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:28.971758+05:30","updated_at":"2026-01-08T12:46:30.449587+05:30","closed_at":"2026-01-08T12:46:30.449587+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-d2b","depends_on_id":"mcb-512","type":"blocks","created_at":"2025-12-19T16:00:36.602431+05:30","created_by":"daemon"}]}
{"id":"mcb-d7m","title":"Exception Classification","description":"**Story 6: Exception Classification**\n\nAs a library user, I want to classify which exceptions count as failures so that I can ignore expected business exceptions while catching real failures.\n\n## Description\nImplement the exception predicate mechanism that allows users to define which exceptions should count as circuit breaker failures. Provide sensible defaults while allowing full customization.\n\n## Acceptance Criteria\n- CircuitBreakerConfig includes exceptionPredicate :: SomeException -\u003e Bool field\n- defaultExceptionPredicate returns True for all exceptions\n- Predicate is applied in withCircuitBreaker before recording failure\n- Exception is recorded as failure only if predicate returns True\n- Exception is always propagated to caller regardless of predicate result\n- User can pattern match on exception types in custom predicate\n- Example predicate: ignores HTTP 4xx but counts 5xx as failures\n- Example predicate: ignores specific business exception types\n- Unit tests for default and custom predicates\n- Integration test: business exceptions don't open circuit when predicate ignores them\n- Documentation explains how to write exception predicates\n\n## Technical Notes\n- Use Control.Exception.fromException for type-safe exception matching\n- Predicate should be pure and fast\n- Document that predicates should not throw exceptions themselves\n\n**Estimated Effort:** 2 days\n**Phase:** 2 - Core Circuit Breaker\n**Dependencies:** Story 5","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-19T15:51:29.894432+05:30","updated_at":"2026-01-08T14:36:23.750215+05:30","closed_at":"2026-01-08T14:36:23.750215+05:30","close_reason":"Exception Classification epic complete. All subtasks done: exceptionPredicate field, defaultExceptionPredicate, helper predicates, withCircuitBreaker integration, unit tests.","dependencies":[{"issue_id":"mcb-d7m","depends_on_id":"mcb-uzv","type":"blocks","created_at":"2025-12-19T15:57:18.135438+05:30","created_by":"daemon"}]}
{"id":"mcb-d7x","title":"Module-level Haddock documentation","description":"Write documentation for each public module explaining purpose, main exports, usage context.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:55.022649+05:30","updated_at":"2026-01-08T13:30:47.998566+05:30","closed_at":"2026-01-08T13:30:47.998566+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-d7x","depends_on_id":"mcb-ehm","type":"blocks","created_at":"2025-12-19T16:02:03.407553+05:30","created_by":"daemon"}]}
{"id":"mcb-din","title":"Retry pattern","description":"Implement retry with exponential backoff and decorrelated jitter. Files: src/CircuitBreaker/Retry.hs, test/Test/Unit/Retry.hs","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T15:09:22.775531+05:30","updated_at":"2026-01-08T15:24:24.289526+05:30","closed_at":"2026-01-08T15:24:24.289526+05:30","close_reason":"Implemented resilience patterns with tests (299 tests passing)"}
{"id":"mcb-dqb","title":"Latency overhead tests","description":"Verify \u003c1ms overhead no contention, \u003c5ms with 10 threads contention. Use Criterion for benchmarks.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:56.030002+05:30","updated_at":"2025-12-19T16:01:56.030002+05:30","dependencies":[{"issue_id":"mcb-dqb","depends_on_id":"mcb-8h1","type":"blocks","created_at":"2025-12-19T16:02:04.126952+05:30","created_by":"daemon"},{"issue_id":"mcb-dqb","depends_on_id":"mcb-rnp","type":"blocks","created_at":"2025-12-19T16:02:11.027738+05:30","created_by":"daemon"}]}
{"id":"mcb-e10","title":"Define CircuitBreakerConfig record","description":"Create the config record with failureThreshold, slidingWindowSize, waitDurationMs, permittedCallsInHalfOpen, exceptionPredicate, onStateTransition fields.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:28.554167+05:30","updated_at":"2025-12-19T17:29:58.609308+05:30","closed_at":"2025-12-19T17:29:58.609308+05:30","close_reason":"Core types implemented with State ADT, newtype wrappers, smart constructors, CircuitBreakerConfig, defaultConfig, builder pattern, and 33 passing tests.","dependencies":[{"issue_id":"mcb-e10","depends_on_id":"mcb-0p2","type":"blocks","created_at":"2025-12-19T16:00:36.437429+05:30","created_by":"daemon"},{"issue_id":"mcb-e10","depends_on_id":"mcb-39p","type":"blocks","created_at":"2025-12-19T16:00:45.072604+05:30","created_by":"daemon"},{"issue_id":"mcb-e10","depends_on_id":"mcb-tph","type":"blocks","created_at":"2025-12-19T16:00:45.259292+05:30","created_by":"daemon"}]}
{"id":"mcb-e4c","title":"Set up test infrastructure with Tasty and Hedgehog","description":"Configure testing framework following 2024 best practices.\n\n## Dependencies to Add\n- tasty (test runner)\n- tasty-hunit (unit tests)\n- tasty-hedgehog (property tests)\n- hedgehog (property test library)\n- tasty-golden (golden tests, optional)\n\n## Structure\n```\ntest/\n├── Main.hs           # Test runner entry point\n├── Test/\n│   ├── Unit/         # Unit tests\n│   └── Property/     # Property-based tests\n```\n\n## Cabal Configuration\n```cabal\ntest-suite circuit-breaker-test\n  type:             exitcode-stdio-1.0\n  main-is:          Main.hs\n  hs-source-dirs:   test\n  build-depends:\n    , base\n    , circuit-breaker\n    , tasty\n    , tasty-hunit\n    , tasty-hedgehog\n    , hedgehog\n  default-language: GHC2021\n```\n\n## Acceptance Criteria\n- `cabal test` runs successfully\n- Can write and run unit tests\n- Can write and run property tests\n- Test output is clear and informative","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T16:09:29.140859+05:30","updated_at":"2025-12-19T16:34:51.909855+05:30","closed_at":"2025-12-19T16:34:51.909855+05:30","close_reason":"Test infrastructure with Tasty and Hedgehog configured. Both unit and property tests pass.","dependencies":[{"issue_id":"mcb-e4c","depends_on_id":"mcb-wla","type":"blocks","created_at":"2025-12-19T16:09:40.378195+05:30","created_by":"daemon"},{"issue_id":"mcb-e4c","depends_on_id":"mcb-5wo","type":"blocks","created_at":"2025-12-19T16:09:40.482426+05:30","created_by":"daemon"}]}
{"id":"mcb-ehm","title":"API Documentation","description":"**Story 15: API Documentation**\n\nAs a library user, I want comprehensive API documentation so that I can understand how to use circuit breakers effectively.\n\n## Description\nWrite detailed Haddock documentation for all public modules, types, and functions. Include design rationale, usage guidelines, common patterns, and warnings about gotchas.\n\n## Acceptance Criteria\n- Every public module has module-level documentation explaining its purpose\n- Every public function has Haddock with description, parameters, return value\n- Every public type has Haddock explaining what it represents\n- Design rationale documented for key decisions (STM, lazy timers, exception-based)\n- Common usage patterns documented (CB with timeout, with fallback, etc.)\n- Configuration options explained with recommendations\n- State machine behavior documented with state transition diagram\n- Exception handling documented with examples\n- OpenTelemetry integration documented with setup instructions\n- Performance characteristics documented (overhead, throughput limits)\n- Thread-safety guarantees documented explicitly\n- Common pitfalls documented (e.g., don't create CB per request)\n- Code examples included in Haddock for major functions\n- All examples compile and run (validated by doctest)\n- Haddock generates without warnings\n- Haddock includes @since annotations for all functions\n\n## Technical Notes\n- Use Haddock markup: @param, @returns, @throws, etc.\n- Include code examples in @example sections\n- Consider using doctests to verify examples\n- Link to related functions with single quotes\n\n**Estimated Effort:** 2 days (ongoing)\n**Phase:** 7 - Documentation\n**Dependencies:** Ongoing throughout development","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-19T15:56:22.792201+05:30","updated_at":"2026-01-08T13:30:55.982083+05:30","closed_at":"2026-01-08T13:30:55.982083+05:30","close_reason":"Closed"}
{"id":"mcb-f4a","title":"Implement circuit_breaker_state_transitions counter","description":"Create counter with labels: cb_name, from_state, to_state. Increment on each transition.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:26.045954+05:30","updated_at":"2025-12-19T16:01:26.045954+05:30","dependencies":[{"issue_id":"mcb-f4a","depends_on_id":"mcb-91u","type":"blocks","created_at":"2025-12-19T16:01:40.7244+05:30","created_by":"daemon"},{"issue_id":"mcb-f4a","depends_on_id":"mcb-gd9","type":"blocks","created_at":"2025-12-19T16:02:06.248952+05:30","created_by":"daemon"}]}
{"id":"mcb-f4u","title":"Add module re-export documentation to main CircuitBreaker module","description":"","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-08T18:22:18.251048+05:30","updated_at":"2026-01-08T18:22:18.251048+05:30"}
{"id":"mcb-fcj","title":"Integrate predicate into withCircuitBreaker","description":"Modify result recording to apply predicate before counting failure. Exceptions not matching predicate are propagated but not counted. Parent: mcb-d7m. Depends on: defaultExceptionPredicate","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:54.263997+05:30","updated_at":"2026-01-08T14:36:18.273064+05:30","closed_at":"2026-01-08T14:36:18.273064+05:30","close_reason":"Predicate integration already exists in withCircuitBreaker (Core.hs)","dependencies":[{"issue_id":"mcb-fcj","depends_on_id":"mcb-d7m","type":"blocks","created_at":"2025-12-19T16:01:03.820112+05:30","created_by":"daemon"},{"issue_id":"mcb-fcj","depends_on_id":"mcb-vnk","type":"blocks","created_at":"2025-12-19T16:01:04.044131+05:30","created_by":"daemon"}]}
{"id":"mcb-fep","title":"Tests for OpenTelemetry integration","description":"Test metrics increment correctly, test compilation with flag enabled/disabled.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:26.872001+05:30","updated_at":"2025-12-19T16:01:26.872001+05:30","dependencies":[{"issue_id":"mcb-fep","depends_on_id":"mcb-91u","type":"blocks","created_at":"2025-12-19T16:01:41.153154+05:30","created_by":"daemon"},{"issue_id":"mcb-fep","depends_on_id":"mcb-sut","type":"blocks","created_at":"2025-12-19T16:02:42.580747+05:30","created_by":"daemon"}]}
{"id":"mcb-fyv","title":"Add onStateTransition to config","description":"Add onStateTransition :: Maybe (Text -\u003e State -\u003e State -\u003e IO ()) field to CircuitBreakerConfig. Parent: mcb-nbg","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:23.525399+05:30","updated_at":"2025-12-19T16:01:23.525399+05:30","dependencies":[{"issue_id":"mcb-fyv","depends_on_id":"mcb-nbg","type":"blocks","created_at":"2025-12-19T16:01:31.244157+05:30","created_by":"daemon"}]}
{"id":"mcb-gd9","title":"Add OpenTelemetry cabal flag","description":"Add 'opentelemetry' flag to cabal file (default: True). Set up CPP conditional compilation.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:25.435283+05:30","updated_at":"2025-12-19T16:01:25.435283+05:30","dependencies":[{"issue_id":"mcb-gd9","depends_on_id":"mcb-91u","type":"blocks","created_at":"2025-12-19T16:01:40.397206+05:30","created_by":"daemon"}]}
{"id":"mcb-gy2","title":"Exception hierarchy for resilience patterns","description":"Add RateLimitedException, BulkheadRejectedException, RetriesExhaustedException to CircuitBreaker/Exceptions.hs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T15:09:23.258677+05:30","updated_at":"2026-01-08T15:24:24.290812+05:30","closed_at":"2026-01-08T15:24:24.290812+05:30","close_reason":"Implemented resilience patterns with tests (299 tests passing)","dependencies":[{"issue_id":"mcb-gy2","depends_on_id":"mcb-azc","type":"blocks","created_at":"2026-01-08T15:09:35.95635+05:30","created_by":"daemon"},{"issue_id":"mcb-gy2","depends_on_id":"mcb-0zl","type":"blocks","created_at":"2026-01-08T15:09:36.063641+05:30","created_by":"daemon"},{"issue_id":"mcb-gy2","depends_on_id":"mcb-din","type":"blocks","created_at":"2026-01-08T15:09:36.17957+05:30","created_by":"daemon"}]}
{"id":"mcb-i44","title":"Implement circuit_breaker_state gauge","description":"Create gauge metric (0=Closed, 1=Open, 2=HalfOpen) with cb_name label. Update on state changes.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:25.622712+05:30","updated_at":"2025-12-19T16:01:25.622712+05:30","dependencies":[{"issue_id":"mcb-i44","depends_on_id":"mcb-91u","type":"blocks","created_at":"2025-12-19T16:01:40.505776+05:30","created_by":"daemon"},{"issue_id":"mcb-i44","depends_on_id":"mcb-gd9","type":"blocks","created_at":"2025-12-19T16:01:49.613892+05:30","created_by":"daemon"}]}
{"id":"mcb-ifu","title":"Implement circuit_breaker_calls_total counter","description":"Create counter with labels: cb_name, result (success/failure/rejected). Increment after each operation.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:25.830803+05:30","updated_at":"2025-12-19T16:01:25.830803+05:30","dependencies":[{"issue_id":"mcb-ifu","depends_on_id":"mcb-91u","type":"blocks","created_at":"2025-12-19T16:01:40.614415+05:30","created_by":"daemon"},{"issue_id":"mcb-ifu","depends_on_id":"mcb-gd9","type":"blocks","created_at":"2025-12-19T16:01:57.546681+05:30","created_by":"daemon"}]}
{"id":"mcb-isz","title":"Create README, CHANGELOG, and LICENSE","description":"Create essential project documentation files.\n\n## README.md\n- Project name and brief description\n- Installation instructions (cabal, stack)\n- Quick start example\n- Link to full documentation\n- Badge for CI status, Hackage version\n- License info\n\n## CHANGELOG.md\nFollow Keep a Changelog format:\n```markdown\n# Changelog\n\n## [Unreleased]\n\n## [0.1.0.0] - YYYY-MM-DD\n### Added\n- Initial release\n- Core circuit breaker functionality\n```\n\n## LICENSE\n- Choose appropriate license (BSD-3-Clause is common for Haskell)\n- Ensure license field in .cabal matches\n\n## Acceptance Criteria\n- README provides clear getting started path\n- CHANGELOG follows standard format\n- LICENSE file present and referenced in cabal","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:09:30.160552+05:30","updated_at":"2025-12-19T16:36:08.937558+05:30","closed_at":"2025-12-19T16:36:08.937558+05:30","close_reason":"README.md, CHANGELOG.md, and LICENSE already created during mcb-vz9.","dependencies":[{"issue_id":"mcb-isz","depends_on_id":"mcb-vz9","type":"blocks","created_at":"2025-12-19T16:09:41.036734+05:30","created_by":"daemon"}]}
{"id":"mcb-j1h","title":"Function-level Haddock documentation","description":"Document all public functions with description, parameters, return value, examples. Include @since annotations.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:55.398782+05:30","updated_at":"2026-01-08T13:30:48.099249+05:30","closed_at":"2026-01-08T13:30:48.099249+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-j1h","depends_on_id":"mcb-ehm","type":"blocks","created_at":"2025-12-19T16:02:03.736991+05:30","created_by":"daemon"},{"issue_id":"mcb-j1h","depends_on_id":"mcb-3md","type":"blocks","created_at":"2025-12-19T16:02:10.766004+05:30","created_by":"daemon"}]}
{"id":"mcb-jft","title":"Implement smart constructors with validation","description":"Implement mkFailureThreshold (0 \u003c t \u003c= 1), mkSlidingWindowSize (\u003e 0), mkWaitDuration (\u003e= 0), mkHalfOpenPermits (\u003e 0). Return Either String for validation errors.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:28.380672+05:30","updated_at":"2025-12-19T17:29:58.607152+05:30","closed_at":"2025-12-19T17:29:58.607152+05:30","close_reason":"Core types implemented with State ADT, newtype wrappers, smart constructors, CircuitBreakerConfig, defaultConfig, builder pattern, and 33 passing tests.","dependencies":[{"issue_id":"mcb-jft","depends_on_id":"mcb-0p2","type":"blocks","created_at":"2025-12-19T16:00:36.239378+05:30","created_by":"daemon"},{"issue_id":"mcb-jft","depends_on_id":"mcb-tph","type":"blocks","created_at":"2025-12-19T16:00:44.877271+05:30","created_by":"daemon"}]}
{"id":"mcb-k7z","title":"Fix thundering herd coordination failure under high load","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-08T18:21:59.764682+05:30","updated_at":"2026-01-08T19:04:41.765301+05:30","closed_at":"2026-01-08T19:04:41.765301+05:30","close_reason":"Investigation found STM implementation is correct. Fixed test timing and added comprehensive STM atomicity verification with 150 threads racing for 5 permits."}
{"id":"mcb-k86","title":"Document state inconsistency when timeout wraps circuit breaker","description":"","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T18:22:00.898356+05:30","updated_at":"2026-01-08T18:22:00.898356+05:30"}
{"id":"mcb-kns","title":"Circuit Breaker Exceptions","description":"**Story 12: Circuit Breaker Exceptions**\n\nAs a library user, I want clear exception types with helpful messages so that I can understand and handle circuit breaker failures appropriately.\n\n## Description\nDefine CircuitOpenException and related exception types with clear error messages that include circuit breaker name and current state. Ensure exceptions are easy to catch, pattern match, and provide actionable information.\n\n## Acceptance Criteria\n- CircuitOpenException is an Exception instance\n- CircuitOpenException includes circuit breaker name in message\n- CircuitOpenException message: \"Circuit breaker '{name}' is OPEN\"\n- CircuitOpenException is throwable and catchable\n- CircuitOpenException can be pattern matched specifically\n- TimeoutException includes operation timeout duration in message\n- TimeoutException message: \"Operation timed out after {duration}\"\n- All exceptions have Show and Typeable instances\n- Exception hierarchy allows catching \"all circuit breaker exceptions\"\n- Unit test: CircuitOpenException can be caught specifically\n- Unit test: CircuitOpenException can be caught as SomeException\n- Unit test: exception messages include expected information\n- Documentation shows how to catch circuit breaker exceptions\n\n## Technical Notes\n- Use Control.Exception for Exception typeclass\n- Derive Typeable for runtime type information\n- Consider defining CBException parent type for hierarchy\n\n**Estimated Effort:** 1 day\n**Phase:** 5 - Utilities\n**Dependencies:** None (can be done early)","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-19T15:55:33.461704+05:30","updated_at":"2026-01-08T12:48:24.863413+05:30","closed_at":"2026-01-08T12:48:24.863413+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-kns","depends_on_id":"mcb-vz9","type":"blocks","created_at":"2025-12-19T16:09:49.608933+05:30","created_by":"daemon"},{"issue_id":"mcb-kns","depends_on_id":"mcb-wla","type":"blocks","created_at":"2025-12-19T16:09:49.732709+05:30","created_by":"daemon"}]}
{"id":"mcb-kzn","title":"Unit tests for callbacks","description":"Test callback called with correct args, not called when no transition, exceptions don't crash CB, async execution. Parent: mcb-nbg.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:24.272748+05:30","updated_at":"2025-12-19T16:01:24.272748+05:30","dependencies":[{"issue_id":"mcb-kzn","depends_on_id":"mcb-nbg","type":"blocks","created_at":"2025-12-19T16:01:32.287412+05:30","created_by":"daemon"},{"issue_id":"mcb-kzn","depends_on_id":"mcb-1h7","type":"blocks","created_at":"2025-12-19T16:01:32.392133+05:30","created_by":"daemon"}]}
{"id":"mcb-li8","title":"Set up Hedgehog test infrastructure","description":"Add hedgehog dependency, create test module structure, configure test runner for property tests","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:54.614614+05:30","updated_at":"2025-12-19T16:01:54.614614+05:30","dependencies":[{"issue_id":"mcb-li8","depends_on_id":"mcb-tq5","type":"blocks","created_at":"2025-12-19T16:02:00.899808+05:30","created_by":"daemon"}]}
{"id":"mcb-lpg","title":"Unit tests for exception classification","description":"Test default predicate counts all, custom predicate filters correctly, exceptions always propagated regardless of predicate. Parent: mcb-d7m. Depends on: predicate helpers","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:54.622779+05:30","updated_at":"2026-01-08T14:36:18.675242+05:30","closed_at":"2026-01-08T14:36:18.675242+05:30","close_reason":"Created test/Test/Unit/Predicate.hs with comprehensive tests. All 39 tests pass.","dependencies":[{"issue_id":"mcb-lpg","depends_on_id":"mcb-d7m","type":"blocks","created_at":"2025-12-19T16:01:04.641323+05:30","created_by":"daemon"},{"issue_id":"mcb-lpg","depends_on_id":"mcb-z50","type":"blocks","created_at":"2025-12-19T16:01:04.894042+05:30","created_by":"daemon"}]}
{"id":"mcb-n2d","title":"Implement operation_duration histogram","description":"Create histogram for operation latency with cb_name and result labels.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:26.245855+05:30","updated_at":"2025-12-19T16:01:26.245855+05:30","dependencies":[{"issue_id":"mcb-n2d","depends_on_id":"mcb-91u","type":"blocks","created_at":"2025-12-19T16:01:40.831032+05:30","created_by":"daemon"},{"issue_id":"mcb-n2d","depends_on_id":"mcb-gd9","type":"blocks","created_at":"2025-12-19T16:02:14.963955+05:30","created_by":"daemon"}]}
{"id":"mcb-nbg","title":"State Transition Callbacks","description":"**Story 10: State Transition Callbacks**\n\nAs a library user, I want to register callbacks for state transitions so that I can implement custom alerting or logging beyond OpenTelemetry.\n\n## Description\nImplement optional state transition callbacks that fire when circuit breaker state changes. Callbacks receive the circuit breaker name, old state, and new state. Callbacks run outside STM to allow IO operations.\n\n## Acceptance Criteria\n- CircuitBreakerConfig includes onStateTransition :: Maybe (Text -\u003e State -\u003e State -\u003e IO ())\n- If onStateTransition is Nothing, use default OpenTelemetry recording\n- If onStateTransition is Just callback, call user callback instead\n- Callback receives: circuit breaker name, old state, new state\n- Callback is executed outside STM transaction\n- Callback is called exactly once per state transition\n- Callback exceptions are caught and logged, don't crash circuit breaker\n- Callback is called asynchronously (doesn't block circuit breaker operation)\n- Unit test: callback called with correct arguments on each transition type\n- Unit test: callback not called when state doesn't change\n- Unit test: callback exceptions don't crash withCircuitBreaker\n- Integration test: callback runs asynchronously\n- Example callback: log to stdout with timestamp\n\n## Technical Notes\n- Execute callback in separate thread (forkIO) to avoid blocking\n- Use catch to handle callback exceptions gracefully\n- Callbacks receive Text for CB name (more efficient than String)\n\n**Estimated Effort:** 2 days\n**Phase:** 4 - Observability\n**Dependencies:** Story 5","status":"in_progress","priority":2,"issue_type":"epic","created_at":"2025-12-19T15:56:22.195429+05:30","updated_at":"2026-01-08T16:09:24.880731+05:30","dependencies":[{"issue_id":"mcb-nbg","depends_on_id":"mcb-uzv","type":"blocks","created_at":"2025-12-19T15:57:18.915616+05:30","created_by":"daemon"}]}
{"id":"mcb-nkv","title":"Failure rate property tests","description":"Properties: rate always 0.0-1.0, circuit opens iff rate \u003e= threshold, half-open attempts never exceed limit","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:55.146684+05:30","updated_at":"2025-12-19T16:01:55.146684+05:30","dependencies":[{"issue_id":"mcb-nkv","depends_on_id":"mcb-tq5","type":"blocks","created_at":"2025-12-19T16:02:01.216637+05:30","created_by":"daemon"},{"issue_id":"mcb-nkv","depends_on_id":"mcb-9we","type":"blocks","created_at":"2025-12-19T16:02:07.187224+05:30","created_by":"daemon"}]}
{"id":"mcb-nma","title":"Add property-based tests for state machine and sliding window invariants","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-08T18:22:09.523804+05:30","updated_at":"2026-01-08T18:22:09.523804+05:30"}
{"id":"mcb-oy5","title":"Implement newCircuitBreaker","description":"Create function to initialize CircuitBreaker with TVar-wrapped initial state (Closed, empty window, current timestamp). Parent: mcb-512","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:29.324053+05:30","updated_at":"2026-01-08T12:46:30.644772+05:30","closed_at":"2026-01-08T12:46:30.644772+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-oy5","depends_on_id":"mcb-512","type":"blocks","created_at":"2025-12-19T16:00:37.02077+05:30","created_by":"daemon"},{"issue_id":"mcb-oy5","depends_on_id":"mcb-9mc","type":"blocks","created_at":"2025-12-19T16:00:44.20428+05:30","created_by":"daemon"}]}
{"id":"mcb-oz8","title":"Fix sliding window state inconsistency under concurrent load","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-08T18:21:59.97758+05:30","updated_at":"2026-01-08T20:02:47.869874+05:30","closed_at":"2026-01-08T20:02:47.869874+05:30","close_reason":"Fixed: Preserve sliding window on Open transition, record results for in-flight calls. All tests pass."}
{"id":"mcb-par","title":"Property tests for sliding window","description":"Write Hedgehog properties: failure rate matches actual count/total, window never exceeds size, FIFO ordering maintained. Run 10k+ cases.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:27.563047+05:30","updated_at":"2026-01-08T12:33:10.991883+05:30","closed_at":"2026-01-08T12:33:10.991883+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-par","depends_on_id":"mcb-r5b","type":"blocks","created_at":"2025-12-19T16:00:37.075625+05:30","created_by":"daemon"},{"issue_id":"mcb-par","depends_on_id":"mcb-tji","type":"blocks","created_at":"2025-12-19T16:00:37.280298+05:30","created_by":"daemon"}]}
{"id":"mcb-qpa","title":"Unit tests for config validation","description":"Write tests verifying smart constructors reject invalid values and accept valid ones. Test builder pattern produces correct configurations.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:28.925128+05:30","updated_at":"2025-12-19T17:29:58.61328+05:30","closed_at":"2025-12-19T17:29:58.61328+05:30","close_reason":"Core types implemented with State ADT, newtype wrappers, smart constructors, CircuitBreakerConfig, defaultConfig, builder pattern, and 33 passing tests.","dependencies":[{"issue_id":"mcb-qpa","depends_on_id":"mcb-0p2","type":"blocks","created_at":"2025-12-19T16:00:36.927948+05:30","created_by":"daemon"},{"issue_id":"mcb-qpa","depends_on_id":"mcb-jft","type":"blocks","created_at":"2025-12-19T16:00:45.883793+05:30","created_by":"daemon"},{"issue_id":"mcb-qpa","depends_on_id":"mcb-2s1","type":"blocks","created_at":"2025-12-19T16:00:46.080151+05:30","created_by":"daemon"}]}
{"id":"mcb-qqm","title":"Set up GitHub Actions CI","description":"Configure CI pipeline using GitHub Actions.\n\n## Approach\nUse haskell-ci tool or manual workflow with haskell-actions/setup.\n\n## CI Matrix\n- GHC 9.8.4\n- GHC 9.10.1  \n- GHC 9.12.2\n- OS: ubuntu-latest (optionally macos-latest, windows-latest)\n\n## CI Steps\n1. Checkout code\n2. Setup GHC and Cabal (haskell-actions/setup)\n3. Cache ~/.cabal/store and dist-newstyle\n4. cabal update\n5. cabal build --enable-tests --enable-benchmarks\n6. cabal test --test-show-details=direct\n7. cabal check (Hackage compatibility)\n8. cabal haddock (documentation builds)\n\n## Workflow File\n`.github/workflows/ci.yml`\n\n## Acceptance Criteria\n- CI runs on every push and PR\n- Tests pass on all supported GHC versions\n- Caching reduces build times\n- `cabal check` passes (Hackage-ready)\n- Haddock documentation builds without errors","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T16:09:29.358396+05:30","updated_at":"2025-12-19T16:35:50.384846+05:30","closed_at":"2025-12-19T16:35:50.384846+05:30","close_reason":"GitHub Actions CI workflow created with GHC matrix (9.8.4, 9.10.1, 9.12.2). Cabal check and haddock pass locally.","dependencies":[{"issue_id":"mcb-qqm","depends_on_id":"mcb-e4c","type":"blocks","created_at":"2025-12-19T16:09:40.667865+05:30","created_by":"daemon"}]}
{"id":"mcb-r3b","title":"Document bracket/resource cleanup considerations for withTimeout","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-08T18:22:09.754353+05:30","updated_at":"2026-01-08T18:22:09.754353+05:30"}
{"id":"mcb-r5b","title":"Sliding Window Implementation","description":"**Story 2: Sliding Window Implementation**\n\nAs a library developer, I want to implement a count-based sliding window so that the circuit breaker can track failure rates over recent operations.\n\n## Description\nImplement a Seq-based sliding window that tracks the last N operation results (success/failure) with cached failure count for O(1) failure rate calculation. The window should efficiently handle insertions, maintain a fixed size, and provide accurate failure rate calculations.\n\n## Acceptance Criteria\n- SlidingWindow data type contains: Seq Bool (True=success, False=failure), windowSize, cachedFailureCount\n- newSlidingWindow creates empty window with specified size\n- insertResult adds a result and maintains window size (removes oldest if at capacity)\n- insertResult updates cachedFailureCount correctly\n- getFailureRate returns Double between 0.0 and 1.0 in O(1) time using cached count\n- getTotalCalls returns number of results in window\n- isEmpty returns True if window contains no results\n- isFull returns True if window has reached windowSize\n- reset clears all results and resets cached count\n- Window maintains FIFO ordering (oldest results evicted first)\n- Property test: failure rate matches actual count of False values / total calls\n- Property test: window never exceeds windowSize\n- Unit tests for empty, full, and mixed windows\n\n## Technical Notes\n- Use Data.Sequence for efficient insertions and removals\n- Cache failure count to avoid O(n) traversal on every check\n- Consider strict fields (!) to avoid space leaks\n\n**Estimated Effort:** 2 days\n**Phase:** 1 - Foundation\n**Dependencies:** None","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-19T15:50:26.324242+05:30","updated_at":"2026-01-08T12:34:37.293684+05:30","closed_at":"2026-01-08T12:34:37.293684+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-r5b","depends_on_id":"mcb-vz9","type":"blocks","created_at":"2025-12-19T16:09:49.311783+05:30","created_by":"daemon"},{"issue_id":"mcb-r5b","depends_on_id":"mcb-wla","type":"blocks","created_at":"2025-12-19T16:09:49.416615+05:30","created_by":"daemon"}]}
{"id":"mcb-rbu","title":"Timeout Implementation","description":"**Story 7: Timeout Implementation**\n\nAs a library user, I want to add timeouts to my operations so that slow calls don't hang indefinitely and count as circuit breaker failures.\n\n## Description\nImplement a standalone withTimeout combinator that cancels operations exceeding a specified duration using Haskell's async library. The timeout should throw a TimeoutException that can be caught and counted as a circuit breaker failure when composed together.\n\n## Acceptance Criteria\n- Function signature: `withTimeout :: MonadIO m =\u003e NominalDiffTime -\u003e m a -\u003e m a`\n- Action completes normally if it finishes within timeout duration\n- TimeoutException thrown if action exceeds timeout duration\n- Timeout uses async's timeout mechanism for proper thread cancellation\n- Timeout is accurate to within 100ms for durations \u003e 1 second\n- Timeout is accurate to within 10ms for durations \u003c 1 second\n- TimeoutException includes timeout duration in error message\n- Nested timeouts work correctly\n- Action is properly cancelled when timeout fires (no resource leaks)\n- Unit tests for completion before and after timeout\n- Performance test: timeout overhead is \u003c100μs for fast operations\n\n## Technical Notes\n- Use System.Timeout.timeout from base library\n- NominalDiffTime from Data.Time for time durations\n- Consider providing convenience helpers: seconds, milliseconds, minutes functions\n\n**Estimated Effort:** 2 days\n**Phase:** 3 - Timeout Support\n**Dependencies:** None (independent utility)","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-19T15:51:32.133037+05:30","updated_at":"2026-01-07T22:06:21.726463+05:30","closed_at":"2026-01-07T22:06:21.726463+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-rbu","depends_on_id":"mcb-vz9","type":"blocks","created_at":"2025-12-19T16:09:49.924476+05:30","created_by":"daemon"},{"issue_id":"mcb-rbu","depends_on_id":"mcb-wla","type":"blocks","created_at":"2025-12-19T16:09:50.028978+05:30","created_by":"daemon"}]}
{"id":"mcb-rbu.1","title":"Define TimeoutException type","description":"Create TimeoutException with duration field. Implement Exception, Show, Typeable instances. Message format: \"Operation timed out after {duration}\"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:55.123236+05:30","updated_at":"2026-01-05T18:09:48.522321+05:30","closed_at":"2026-01-05T18:09:48.522321+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-rbu.1","depends_on_id":"mcb-rbu","type":"parent-child","created_at":"2025-12-19T16:00:55.124094+05:30","created_by":"daemon"}]}
{"id":"mcb-rbu.2","title":"Implement withTimeout combinator","description":"Create withTimeout :: MonadIO m =\u003e NominalDiffTime -\u003e m a -\u003e m a using System.Timeout. Throw TimeoutException on expiry","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:55.30229+05:30","updated_at":"2026-01-05T18:45:12.434312+05:30","closed_at":"2026-01-05T18:45:12.434312+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-rbu.2","depends_on_id":"mcb-rbu","type":"parent-child","created_at":"2025-12-19T16:00:55.307138+05:30","created_by":"daemon"},{"issue_id":"mcb-rbu.2","depends_on_id":"mcb-rbu.1","type":"blocks","created_at":"2025-12-19T16:01:01.449589+05:30","created_by":"daemon"}]}
{"id":"mcb-rbu.3","title":"Implement duration helper functions","description":"Create seconds, milliseconds, minutes convenience functions for constructing NominalDiffTime values","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:55.480561+05:30","updated_at":"2026-01-05T18:46:00.697203+05:30","closed_at":"2026-01-05T18:46:00.697203+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-rbu.3","depends_on_id":"mcb-rbu","type":"parent-child","created_at":"2025-12-19T16:00:55.481469+05:30","created_by":"daemon"}]}
{"id":"mcb-rbu.4","title":"Unit tests for timeout behavior","description":"Test completion before timeout returns result, exceeding timeout throws exception, zero timeout immediate exception, nested timeouts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:55.650888+05:30","updated_at":"2026-01-05T18:47:37.351464+05:30","closed_at":"2026-01-05T18:47:37.351464+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-rbu.4","depends_on_id":"mcb-rbu","type":"parent-child","created_at":"2025-12-19T16:00:55.651604+05:30","created_by":"daemon"},{"issue_id":"mcb-rbu.4","depends_on_id":"mcb-rbu.2","type":"blocks","created_at":"2025-12-19T16:01:01.620678+05:30","created_by":"daemon"},{"issue_id":"mcb-rbu.4","depends_on_id":"mcb-rbu.3","type":"blocks","created_at":"2025-12-19T16:01:01.799547+05:30","created_by":"daemon"}]}
{"id":"mcb-rbu.5","title":"Performance tests for timeout overhead","description":"Verify \u003c100μs overhead for fast operations. Test no resource leaks on cancellation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:55.822545+05:30","updated_at":"2026-01-07T22:06:03.366621+05:30","closed_at":"2026-01-07T22:06:03.366621+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-rbu.5","depends_on_id":"mcb-rbu","type":"parent-child","created_at":"2025-12-19T16:00:55.823357+05:30","created_by":"daemon"},{"issue_id":"mcb-rbu.5","depends_on_id":"mcb-rbu.2","type":"blocks","created_at":"2025-12-19T16:01:01.980676+05:30","created_by":"daemon"}]}
{"id":"mcb-rcl","title":"Make withTimeout polymorphic (m a instead of IO a)","description":"","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-08T18:22:08.846178+05:30","updated_at":"2026-01-08T18:22:08.846178+05:30"}
{"id":"mcb-rix","title":"Sliding window property tests","description":"Properties: failure rate = actual failures/total, size never exceeds max, FIFO ordering, inserting N into size-N makes full","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:54.78953+05:30","updated_at":"2025-12-19T16:01:54.78953+05:30","dependencies":[{"issue_id":"mcb-rix","depends_on_id":"mcb-tq5","type":"blocks","created_at":"2025-12-19T16:02:01.003618+05:30","created_by":"daemon"},{"issue_id":"mcb-rix","depends_on_id":"mcb-li8","type":"blocks","created_at":"2025-12-19T16:02:06.9177+05:30","created_by":"daemon"}]}
{"id":"mcb-rnp","title":"Stress test for 10k ops/sec","description":"Test 100 threads reaching 10k operations/second. Verify correctness under load.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:55.832684+05:30","updated_at":"2025-12-19T16:01:55.832684+05:30","dependencies":[{"issue_id":"mcb-rnp","depends_on_id":"mcb-8h1","type":"blocks","created_at":"2025-12-19T16:02:03.956581+05:30","created_by":"daemon"},{"issue_id":"mcb-rnp","depends_on_id":"mcb-0vg","type":"blocks","created_at":"2025-12-19T16:02:10.84671+05:30","created_by":"daemon"}]}
{"id":"mcb-sut","title":"Implement no-op fallbacks when flag disabled","description":"Provide stub implementations when opentelemetry flag is False. Ensure code compiles without hs-opentelemetry-api.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:26.665131+05:30","updated_at":"2025-12-19T16:01:26.665131+05:30","dependencies":[{"issue_id":"mcb-sut","depends_on_id":"mcb-91u","type":"blocks","created_at":"2025-12-19T16:01:41.044705+05:30","created_by":"daemon"},{"issue_id":"mcb-sut","depends_on_id":"mcb-7gj","type":"blocks","created_at":"2025-12-19T16:02:33.428015+05:30","created_by":"daemon"}]}
{"id":"mcb-t9h","title":"Usage Examples","description":"**Story 16: Usage Examples**\n\nAs a library user, I want complete usage examples so that I can quickly understand how to integrate circuit breakers into my application.\n\n## Description\nCreate comprehensive examples showing common patterns: basic circuit breaker, with timeout, with fallback, custom exception classification, multiple operations sharing a CB, and OpenTelemetry integration.\n\n## Acceptance Criteria\n- Example 1: Basic circuit breaker protecting HTTP call\n- Example 2: Circuit breaker with timeout for slow operations\n- Example 3: Circuit breaker with fallback to cache\n- Example 4: Custom exception predicate (ignore 4xx, count 5xx)\n- Example 5: Multiple API operations sharing one circuit breaker\n- Example 6: Composing multiple patterns (timeout + CB + fallback)\n- Example 7: OpenTelemetry integration with metrics export\n- Example 8: State transition callback for alerting\n- All examples are complete, compilable programs (with main function)\n- All examples include comments explaining what's happening\n- All examples handle exceptions appropriately\n- All examples demonstrate realistic use cases\n- README includes \"Quick Start\" with minimal example\n- README includes links to all examples\n- README includes installation instructions\n- README includes basic usage overview\n- README includes contribution guidelines and license\n- README includes badges (CI status, Hackage version, etc.)\n- Examples compile without warnings\n- Examples run successfully\n\n## Technical Notes\n- Put examples in separate executable targets in cabal file\n- Use realistic service names (PaymentService, UserService, etc.)\n- Show both success and failure paths in examples\n- Consider using fake/mock services for examples\n\n**Estimated Effort:** 2 days\n**Phase:** 7 - Documentation\n**Dependencies:** Stories 1-12 (all core stories)","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-19T15:56:38.88691+05:30","updated_at":"2025-12-19T15:59:42.884031+05:30","dependencies":[{"issue_id":"mcb-t9h","depends_on_id":"mcb-0p2","type":"blocks","created_at":"2025-12-19T15:57:39.706407+05:30","created_by":"daemon"},{"issue_id":"mcb-t9h","depends_on_id":"mcb-r5b","type":"blocks","created_at":"2025-12-19T15:57:39.888943+05:30","created_by":"daemon"},{"issue_id":"mcb-t9h","depends_on_id":"mcb-512","type":"blocks","created_at":"2025-12-19T15:57:40.070894+05:30","created_by":"daemon"},{"issue_id":"mcb-t9h","depends_on_id":"mcb-061","type":"blocks","created_at":"2025-12-19T15:57:40.252176+05:30","created_by":"daemon"},{"issue_id":"mcb-t9h","depends_on_id":"mcb-uzv","type":"blocks","created_at":"2025-12-19T15:57:40.433317+05:30","created_by":"daemon"},{"issue_id":"mcb-t9h","depends_on_id":"mcb-d7m","type":"blocks","created_at":"2025-12-19T15:57:51.210669+05:30","created_by":"daemon"},{"issue_id":"mcb-t9h","depends_on_id":"mcb-rbu","type":"blocks","created_at":"2025-12-19T15:57:51.393543+05:30","created_by":"daemon"},{"issue_id":"mcb-t9h","depends_on_id":"mcb-8my","type":"blocks","created_at":"2025-12-19T15:57:51.573913+05:30","created_by":"daemon"},{"issue_id":"mcb-t9h","depends_on_id":"mcb-91u","type":"blocks","created_at":"2025-12-19T15:57:51.748613+05:30","created_by":"daemon"},{"issue_id":"mcb-t9h","depends_on_id":"mcb-nbg","type":"blocks","created_at":"2025-12-19T15:57:51.958035+05:30","created_by":"daemon"},{"issue_id":"mcb-t9h","depends_on_id":"mcb-tkx","type":"blocks","created_at":"2025-12-19T15:57:52.16586+05:30","created_by":"daemon"},{"issue_id":"mcb-t9h","depends_on_id":"mcb-kns","type":"blocks","created_at":"2025-12-19T15:57:57.872269+05:30","created_by":"daemon"}]}
{"id":"mcb-t9h.1","title":"Example: Basic circuit breaker","description":"Complete program protecting HTTP call with circuit breaker. Show success and failure paths.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:57.88265+05:30","updated_at":"2025-12-19T16:01:57.88265+05:30","dependencies":[{"issue_id":"mcb-t9h.1","depends_on_id":"mcb-t9h","type":"parent-child","created_at":"2025-12-19T16:01:57.883409+05:30","created_by":"daemon"}]}
{"id":"mcb-t9h.2","title":"Example: Circuit breaker with timeout","description":"Show timeout composition with CB for slow operations.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:58.063377+05:30","updated_at":"2025-12-19T16:01:58.063377+05:30","dependencies":[{"issue_id":"mcb-t9h.2","depends_on_id":"mcb-t9h","type":"parent-child","created_at":"2025-12-19T16:01:58.064245+05:30","created_by":"daemon"},{"issue_id":"mcb-t9h.2","depends_on_id":"mcb-t9h.1","type":"blocks","created_at":"2025-12-19T16:02:08.55048+05:30","created_by":"daemon"}]}
{"id":"mcb-t9h.3","title":"Example: Circuit breaker with fallback","description":"Demonstrate fallback to cache when circuit opens.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:58.245084+05:30","updated_at":"2025-12-19T16:01:58.245084+05:30","dependencies":[{"issue_id":"mcb-t9h.3","depends_on_id":"mcb-t9h","type":"parent-child","created_at":"2025-12-19T16:01:58.246095+05:30","created_by":"daemon"},{"issue_id":"mcb-t9h.3","depends_on_id":"mcb-t9h.2","type":"blocks","created_at":"2025-12-19T16:02:08.718587+05:30","created_by":"daemon"}]}
{"id":"mcb-t9h.4","title":"Example: Custom exception predicate","description":"Show ignoring HTTP 4xx while counting 5xx as failures.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:58.425791+05:30","updated_at":"2025-12-19T16:01:58.425791+05:30","dependencies":[{"issue_id":"mcb-t9h.4","depends_on_id":"mcb-t9h","type":"parent-child","created_at":"2025-12-19T16:01:58.426481+05:30","created_by":"daemon"},{"issue_id":"mcb-t9h.4","depends_on_id":"mcb-t9h.3","type":"blocks","created_at":"2025-12-19T16:02:08.884958+05:30","created_by":"daemon"}]}
{"id":"mcb-t9h.5","title":"Example: Shared circuit breaker","description":"Multiple API operations sharing one circuit breaker instance.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:58.603039+05:30","updated_at":"2025-12-19T16:01:58.603039+05:30","dependencies":[{"issue_id":"mcb-t9h.5","depends_on_id":"mcb-t9h","type":"parent-child","created_at":"2025-12-19T16:01:58.603758+05:30","created_by":"daemon"},{"issue_id":"mcb-t9h.5","depends_on_id":"mcb-t9h.4","type":"blocks","created_at":"2025-12-19T16:02:09.049514+05:30","created_by":"daemon"}]}
{"id":"mcb-t9h.6","title":"Example: Full composition","description":"Combine timeout + CB + fallback in realistic scenario.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:58.784361+05:30","updated_at":"2025-12-19T16:01:58.784361+05:30","dependencies":[{"issue_id":"mcb-t9h.6","depends_on_id":"mcb-t9h","type":"parent-child","created_at":"2025-12-19T16:01:58.785223+05:30","created_by":"daemon"},{"issue_id":"mcb-t9h.6","depends_on_id":"mcb-t9h.5","type":"blocks","created_at":"2025-12-19T16:02:09.216824+05:30","created_by":"daemon"}]}
{"id":"mcb-t9h.7","title":"Example: OpenTelemetry integration","description":"Show metrics export and span creation setup.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:58.970712+05:30","updated_at":"2025-12-19T16:01:58.970712+05:30","dependencies":[{"issue_id":"mcb-t9h.7","depends_on_id":"mcb-t9h","type":"parent-child","created_at":"2025-12-19T16:01:58.971424+05:30","created_by":"daemon"},{"issue_id":"mcb-t9h.7","depends_on_id":"mcb-t9h.6","type":"blocks","created_at":"2025-12-19T16:02:09.379791+05:30","created_by":"daemon"}]}
{"id":"mcb-t9h.8","title":"Example: State transition alerting","description":"Callback for PagerDuty/Slack alerting on circuit open.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:59.148423+05:30","updated_at":"2025-12-19T16:01:59.148423+05:30","dependencies":[{"issue_id":"mcb-t9h.8","depends_on_id":"mcb-t9h","type":"parent-child","created_at":"2025-12-19T16:01:59.14936+05:30","created_by":"daemon"},{"issue_id":"mcb-t9h.8","depends_on_id":"mcb-t9h.7","type":"blocks","created_at":"2025-12-19T16:02:09.546604+05:30","created_by":"daemon"}]}
{"id":"mcb-t9h.9","title":"Write README","description":"Quick start, installation, basic usage, links to examples, badges, contribution guide, license.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:59.33607+05:30","updated_at":"2025-12-19T16:01:59.33607+05:30","dependencies":[{"issue_id":"mcb-t9h.9","depends_on_id":"mcb-t9h","type":"parent-child","created_at":"2025-12-19T16:01:59.336916+05:30","created_by":"daemon"},{"issue_id":"mcb-t9h.9","depends_on_id":"mcb-t9h.8","type":"blocks","created_at":"2025-12-19T16:02:09.728724+05:30","created_by":"daemon"}]}
{"id":"mcb-tji","title":"Implement sliding window query functions","description":"Implement getFailureRate (O(1) using cached count), getTotalCalls, isEmpty, isFull.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:27.389169+05:30","updated_at":"2026-01-08T12:30:24.000985+05:30","closed_at":"2026-01-08T12:30:24.000985+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-tji","depends_on_id":"mcb-r5b","type":"blocks","created_at":"2025-12-19T16:00:36.657981+05:30","created_by":"daemon"},{"issue_id":"mcb-tji","depends_on_id":"mcb-1j1","type":"blocks","created_at":"2025-12-19T16:00:36.879122+05:30","created_by":"daemon"}]}
{"id":"mcb-tkx","title":"Fallback Helper","description":"**Story 11: Fallback Helper**\n\nAs a library user, I want a convenient fallback helper so that I can easily specify alternative behavior when circuit breakers reject calls or operations fail.\n\n## Description\nImplement the withFallback combinator that catches exceptions from primary action and executes fallback action. This provides ergonomic syntax for specifying fallback behavior.\n\n## Acceptance Criteria\n- Function signature: `withFallback :: (MonadIO m, MonadCatch m) =\u003e m a -\u003e m a -\u003e m a`\n- First argument is primary action, second is fallback action\n- If primary action succeeds, return its result\n- If primary action throws any exception, execute fallback action\n- Fallback action result is returned if it succeeds\n- If fallback action also throws, propagate fallback's exception\n- Works with CircuitOpenException specifically\n- Composes cleanly: `withCircuitBreaker cb action \\`withFallback\\` fallbackAction`\n- Multiple fallbacks chain correctly\n- Unit tests for all success/failure combinations\n- Integration test: circuit breaker with fallback provides graceful degradation\n- Example: circuit breaker with cache fallback\n\n## Technical Notes\n- Implementation: `action \\`catch\\` (\\(_ :: SomeException) -\u003e fallback)`\n- Consider providing typed variant: `withFallbackFor :: Exception e =\u003e m a -\u003e m a -\u003e m a`\n- Could be infix operator for ergonomics\n\n**Estimated Effort:** 1 day\n**Phase:** 5 - Utilities\n**Dependencies:** Story 5","status":"in_progress","priority":2,"issue_type":"epic","created_at":"2025-12-19T15:55:33.24766+05:30","updated_at":"2026-01-08T16:09:24.872585+05:30","dependencies":[{"issue_id":"mcb-tkx","depends_on_id":"mcb-uzv","type":"blocks","created_at":"2025-12-19T15:57:19.111295+05:30","created_by":"daemon"}]}
{"id":"mcb-tkx.1","title":"Implement withFallback combinator","description":"Create withFallback :: (MonadIO m, MonadCatch m) =\u003e m a -\u003e m a -\u003e m a. Execute fallback on any exception from primary.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:22.166141+05:30","updated_at":"2026-01-08T18:22:23.821626+05:30","closed_at":"2026-01-08T18:22:23.821626+05:30","close_reason":"Implemented with comprehensive tests. See test/Test/Integration/TimeoutCircuitBreaker.hs and src/CircuitBreaker/Fallback.hs","dependencies":[{"issue_id":"mcb-tkx.1","depends_on_id":"mcb-tkx","type":"parent-child","created_at":"2025-12-19T16:01:22.167122+05:30","created_by":"daemon"}]}
{"id":"mcb-tkx.2","title":"Implement withFallbackFor typed variant","description":"Create withFallbackFor :: (MonadCatch m, Exception e) =\u003e m a -\u003e m a -\u003e m a for catching specific exception types.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:22.371593+05:30","updated_at":"2025-12-19T16:01:22.371593+05:30","dependencies":[{"issue_id":"mcb-tkx.2","depends_on_id":"mcb-tkx","type":"parent-child","created_at":"2025-12-19T16:01:22.372497+05:30","created_by":"daemon"},{"issue_id":"mcb-tkx.2","depends_on_id":"mcb-tkx.1","type":"blocks","created_at":"2025-12-19T16:01:27.968412+05:30","created_by":"daemon"}]}
{"id":"mcb-tkx.3","title":"Unit tests for fallback behavior","description":"Test primary success returns primary, primary failure executes fallback, both failing propagates fallback exception, CircuitOpenException triggers fallback.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:22.570283+05:30","updated_at":"2025-12-19T16:01:22.570283+05:30","dependencies":[{"issue_id":"mcb-tkx.3","depends_on_id":"mcb-tkx","type":"parent-child","created_at":"2025-12-19T16:01:22.571102+05:30","created_by":"daemon"},{"issue_id":"mcb-tkx.3","depends_on_id":"mcb-tkx.2","type":"blocks","created_at":"2025-12-19T16:01:28.151973+05:30","created_by":"daemon"}]}
{"id":"mcb-tkx.4","title":"Create fallback usage examples","description":"Example: CB with cache fallback, nested fallbacks (primary -\u003e cache -\u003e default).","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:22.78132+05:30","updated_at":"2025-12-19T16:01:22.78132+05:30","dependencies":[{"issue_id":"mcb-tkx.4","depends_on_id":"mcb-tkx","type":"parent-child","created_at":"2025-12-19T16:01:22.782423+05:30","created_by":"daemon"},{"issue_id":"mcb-tkx.4","depends_on_id":"mcb-tkx.3","type":"blocks","created_at":"2025-12-19T16:01:28.329656+05:30","created_by":"daemon"}]}
{"id":"mcb-tlu","title":"Resilience composition utilities","description":"Create unified ResilienceConfig and withResilience combinator. Files: src/CircuitBreaker/Resilience.hs, test/Test/Integration/Resilience.hs","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T15:09:23.015281+05:30","updated_at":"2026-01-08T15:24:34.09305+05:30","closed_at":"2026-01-08T15:24:34.09305+05:30","close_reason":"Implemented ResilienceConfig and withResilience combinator","dependencies":[{"issue_id":"mcb-tlu","depends_on_id":"mcb-azc","type":"blocks","created_at":"2026-01-08T15:09:35.638938+05:30","created_by":"daemon"},{"issue_id":"mcb-tlu","depends_on_id":"mcb-0zl","type":"blocks","created_at":"2026-01-08T15:09:35.748899+05:30","created_by":"daemon"},{"issue_id":"mcb-tlu","depends_on_id":"mcb-din","type":"blocks","created_at":"2026-01-08T15:09:35.852687+05:30","created_by":"daemon"}]}
{"id":"mcb-tph","title":"Define newtype wrappers for config values","description":"Create newtype wrappers: FailureThreshold, SlidingWindowSize, WaitDuration, HalfOpenPermits. These prevent mixing up configuration parameters.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:28.200499+05:30","updated_at":"2025-12-19T17:29:58.604783+05:30","closed_at":"2025-12-19T17:29:58.604783+05:30","close_reason":"Core types implemented with State ADT, newtype wrappers, smart constructors, CircuitBreakerConfig, defaultConfig, builder pattern, and 33 passing tests.","dependencies":[{"issue_id":"mcb-tph","depends_on_id":"mcb-0p2","type":"blocks","created_at":"2025-12-19T16:00:36.039828+05:30","created_by":"daemon"}]}
{"id":"mcb-tq5","title":"Property-Based Tests","description":"**Story 13: Property-Based Tests**\n\nAs a library developer, I want comprehensive property-based tests so that I can be confident the circuit breaker logic is correct under all conditions.\n\n## Description\nWrite QuickCheck or Hedgehog properties that verify core invariants: state machine transitions are always valid, sliding window calculations are correct, failure rates are accurate, concurrent operations maintain consistency.\n\n## Acceptance Criteria\n- Property: sliding window failure rate equals actual failure count / total count\n- Property: sliding window size never exceeds configured windowSize\n- Property: inserting N results into size-N window makes it full\n- Property: state machine never transitions to invalid state\n- Property: Closed state can only transition to Open\n- Property: Open state can only transition to HalfOpen\n- Property: HalfOpen state can transition to Closed or Open\n- Property: failure rate calculation is always between 0.0 and 1.0\n- Property: circuit opens when and only when failure rate \u003e= threshold\n- Property: half-open attempts counter never exceeds configured limit\n- Property: concurrent reads see consistent state\n- Property: concurrent updates maintain state machine invariants\n- All properties pass 10,000+ random test cases\n- Properties use shrinking to find minimal failing cases\n- Property tests complete in \u003c30 seconds\n- CI runs property tests on every commit\n\n## Technical Notes\n- Use Hedgehog for better shrinking and error messages\n- Generate random sequences of operations for state machine testing\n- Use concurrent-extra or async for concurrent property tests\n- Consider using DejaFu for deterministic concurrency testing\n\n**Estimated Effort:** 3 days\n**Phase:** 6 - Testing\n**Dependencies:** Story 2, Story 4, Story 5","status":"in_progress","priority":2,"issue_type":"epic","created_at":"2025-12-19T15:56:22.397749+05:30","updated_at":"2026-01-08T16:09:24.888866+05:30","dependencies":[{"issue_id":"mcb-tq5","depends_on_id":"mcb-r5b","type":"blocks","created_at":"2025-12-19T15:57:29.13395+05:30","created_by":"daemon"},{"issue_id":"mcb-tq5","depends_on_id":"mcb-061","type":"blocks","created_at":"2025-12-19T15:57:29.331099+05:30","created_by":"daemon"},{"issue_id":"mcb-tq5","depends_on_id":"mcb-uzv","type":"blocks","created_at":"2025-12-19T15:57:29.525162+05:30","created_by":"daemon"}]}
{"id":"mcb-tsy","title":"Usage patterns documentation","description":"Document common patterns: CB with timeout, with fallback, exception classification, multiple operations sharing CB.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:55.821144+05:30","updated_at":"2026-01-08T13:30:48.391818+05:30","closed_at":"2026-01-08T13:30:48.391818+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-tsy","depends_on_id":"mcb-ehm","type":"blocks","created_at":"2025-12-19T16:02:04.088532+05:30","created_by":"daemon"},{"issue_id":"mcb-tsy","depends_on_id":"mcb-yfy","type":"blocks","created_at":"2025-12-19T16:02:11.140321+05:30","created_by":"daemon"}]}
{"id":"mcb-uzv","title":"withCircuitBreaker Implementation","description":"**Story 5: withCircuitBreaker Implementation**\n\nAs a library user, I want to use withCircuitBreaker to protect my operations so that failing services are quickly isolated and my system remains responsive.\n\n## Description\nImplement the core withCircuitBreaker function that checks if a call is permitted, executes the user's action if allowed, catches exceptions, records the result, and handles state transitions. This is the primary API users interact with.\n\n## Acceptance Criteria\n- Function signature: `withCircuitBreaker :: (MonadIO m, MonadCatch m) =\u003e CircuitBreaker -\u003e m a -\u003e m a`\n- Check if call is permitted via STM transaction before executing action\n- Throw CircuitOpenException immediately if call not permitted\n- Execute user action if call permitted\n- Catch all exceptions from user action (using MonadCatch)\n- Record success/failure in STM\n- Apply exception predicate from config to determine if exception counts as failure\n- Trigger state transitions when recording results\n- Execute state transition callback outside of STM transaction\n- Propagate original exception to caller after recording\n- State changes are atomic (no race conditions)\n- Integration tests for success, failure, circuit open scenarios\n- Performance test: \u003c1ms overhead per call under no contention\n\n## Technical Notes\n- Use try from MonadCatch to catch exceptions\n- State transition callbacks must run outside STM\n- Use liftIO for STM operations in MonadIO context\n\n**Estimated Effort:** 3 days\n**Phase:** 2 - Core Circuit Breaker\n**Dependencies:** Story 4","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-19T15:51:27.372512+05:30","updated_at":"2026-01-08T13:36:18.131468+05:30","closed_at":"2026-01-08T13:36:18.131468+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-uzv","depends_on_id":"mcb-061","type":"blocks","created_at":"2025-12-19T15:57:08.884237+05:30","created_by":"daemon"}]}
{"id":"mcb-uzv.1","title":"Implement permission check in STM","description":"Create checkPermitted function that atomically checks state and returns whether call is allowed. Handle lazy HalfOpen transition.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:56.480709+05:30","updated_at":"2026-01-08T13:36:17.29735+05:30","closed_at":"2026-01-08T13:36:17.29735+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-uzv.1","depends_on_id":"mcb-uzv","type":"parent-child","created_at":"2025-12-19T16:00:56.48304+05:30","created_by":"daemon"}]}
{"id":"mcb-uzv.2","title":"Implement action execution wrapper","description":"Create the core try/catch wrapper that executes user action and captures exceptions using MonadCatch.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:56.65516+05:30","updated_at":"2026-01-08T13:36:17.415079+05:30","closed_at":"2026-01-08T13:36:17.415079+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-uzv.2","depends_on_id":"mcb-uzv","type":"parent-child","created_at":"2025-12-19T16:00:56.6559+05:30","created_by":"daemon"},{"issue_id":"mcb-uzv.2","depends_on_id":"mcb-uzv.1","type":"blocks","created_at":"2025-12-19T16:01:04.808914+05:30","created_by":"daemon"}]}
{"id":"mcb-uzv.3","title":"Implement result recording in STM","description":"Create recordResult function that atomically updates sliding window and triggers state transitions based on success/failure.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:56.826063+05:30","updated_at":"2026-01-08T13:36:17.537382+05:30","closed_at":"2026-01-08T13:36:17.537382+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-uzv.3","depends_on_id":"mcb-uzv","type":"parent-child","created_at":"2025-12-19T16:00:56.826765+05:30","created_by":"daemon"},{"issue_id":"mcb-uzv.3","depends_on_id":"mcb-uzv.2","type":"blocks","created_at":"2025-12-19T16:01:05.001224+05:30","created_by":"daemon"}]}
{"id":"mcb-uzv.4","title":"Implement callback execution","description":"Execute state transition callbacks outside STM in separate thread (forkIO). Catch and log callback exceptions.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:56.99614+05:30","updated_at":"2026-01-08T13:36:17.655551+05:30","closed_at":"2026-01-08T13:36:17.655551+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-uzv.4","depends_on_id":"mcb-uzv","type":"parent-child","created_at":"2025-12-19T16:00:56.996825+05:30","created_by":"daemon"},{"issue_id":"mcb-uzv.4","depends_on_id":"mcb-uzv.3","type":"blocks","created_at":"2025-12-19T16:01:05.194174+05:30","created_by":"daemon"}]}
{"id":"mcb-uzv.5","title":"Assemble withCircuitBreaker function","description":"Combine permission check, action execution, result recording, and callback execution into the final withCircuitBreaker :: (MonadIO m, MonadCatch m) =\u003e CircuitBreaker -\u003e m a -\u003e m a.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:57.162796+05:30","updated_at":"2026-01-08T13:36:17.773975+05:30","closed_at":"2026-01-08T13:36:17.773975+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-uzv.5","depends_on_id":"mcb-uzv","type":"parent-child","created_at":"2025-12-19T16:00:57.163495+05:30","created_by":"daemon"},{"issue_id":"mcb-uzv.5","depends_on_id":"mcb-uzv.4","type":"blocks","created_at":"2025-12-19T16:01:05.387456+05:30","created_by":"daemon"}]}
{"id":"mcb-uzv.6","title":"Integration tests for withCircuitBreaker","description":"Test success path, failure path, circuit opening, blocking when open, HalfOpen behavior, exception propagation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:57.331868+05:30","updated_at":"2026-01-08T13:36:17.892438+05:30","closed_at":"2026-01-08T13:36:17.892438+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-uzv.6","depends_on_id":"mcb-uzv","type":"parent-child","created_at":"2025-12-19T16:00:57.332606+05:30","created_by":"daemon"},{"issue_id":"mcb-uzv.6","depends_on_id":"mcb-uzv.5","type":"blocks","created_at":"2025-12-19T16:01:05.584371+05:30","created_by":"daemon"}]}
{"id":"mcb-uzv.7","title":"Performance tests for withCircuitBreaker","description":"Verify \u003c1ms overhead under no contention. Test 10 concurrent threads maintain correct state.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:57.500691+05:30","updated_at":"2026-01-08T13:36:18.011128+05:30","closed_at":"2026-01-08T13:36:18.011128+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-uzv.7","depends_on_id":"mcb-uzv","type":"parent-child","created_at":"2025-12-19T16:00:57.501562+05:30","created_by":"daemon"},{"issue_id":"mcb-uzv.7","depends_on_id":"mcb-uzv.5","type":"blocks","created_at":"2025-12-19T16:01:06.14848+05:30","created_by":"daemon"}]}
{"id":"mcb-vb6","title":"Thread-safety tests for STM operations","description":"Test 100 concurrent reads, concurrent read/write consistency, no state corruption under contention. Parent: mcb-512","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:29.686287+05:30","updated_at":"2026-01-08T12:46:35.007396+05:30","closed_at":"2026-01-08T12:46:35.007396+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-vb6","depends_on_id":"mcb-512","type":"blocks","created_at":"2025-12-19T16:00:37.426627+05:30","created_by":"daemon"},{"issue_id":"mcb-vb6","depends_on_id":"mcb-aqu","type":"blocks","created_at":"2025-12-19T16:00:44.624838+05:30","created_by":"daemon"}]}
{"id":"mcb-vnk","title":"Implement defaultExceptionPredicate","description":"Create default predicate that returns True for all exceptions (all count as failures). Parent: mcb-d7m. Depends on: exceptionPredicate field","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:54.09413+05:30","updated_at":"2026-01-08T14:36:18.086386+05:30","closed_at":"2026-01-08T14:36:18.086386+05:30","close_reason":"defaultExceptionPredicate implemented in CircuitBreaker.Predicate module","dependencies":[{"issue_id":"mcb-vnk","depends_on_id":"mcb-d7m","type":"blocks","created_at":"2025-12-19T16:01:03.459143+05:30","created_by":"daemon"},{"issue_id":"mcb-vnk","depends_on_id":"mcb-5ir","type":"blocks","created_at":"2025-12-19T16:01:03.636398+05:30","created_by":"daemon"}]}
{"id":"mcb-vr2","title":"Fix result recording idempotency violation","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-08T18:22:00.195555+05:30","updated_at":"2026-01-08T20:02:48.098203+05:30","closed_at":"2026-01-08T20:02:48.098203+05:30","close_reason":"Fixed: One-shot recording flag with TVar, mask/onException for async safety. Each action records exactly once."}
{"id":"mcb-vz9","title":"Initialize Cabal project structure","description":"Set up the initial Cabal project structure for the circuit breaker library.\n\n## Tasks\n- Run `cabal init --lib` or create manually\n- Create directory structure: src/, test/, bench/\n- Set `cabal-version: 3.0`\n- Set `default-language: GHC2021`\n- Configure `tested-with: GHC == 9.8.4, GHC == 9.10.1, GHC == 9.12.2`\n- Add common stanza for shared GHC options\n- Set up library, test-suite, and benchmark components\n\n## Acceptance Criteria\n- `cabal build` succeeds\n- `cabal test` runs (even if no tests yet)\n- Project follows standard Haskell library structure","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T16:09:28.683662+05:30","updated_at":"2025-12-19T16:26:13.108145+05:30","closed_at":"2025-12-19T16:26:13.108145+05:30","close_reason":"Cabal project initialized with GHC 9.10.1. Build and tests pass."}
{"id":"mcb-w1m","title":"Ensure 10k+ test cases pass","description":"Configure Hedgehog for 10,000+ test cases per property. Verify all pass, tests complete in \u003c30s","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:55.535162+05:30","updated_at":"2025-12-19T16:01:55.535162+05:30","dependencies":[{"issue_id":"mcb-w1m","depends_on_id":"mcb-tq5","type":"blocks","created_at":"2025-12-19T16:02:01.425913+05:30","created_by":"daemon"},{"issue_id":"mcb-w1m","depends_on_id":"mcb-0pe","type":"blocks","created_at":"2025-12-19T16:02:07.51665+05:30","created_by":"daemon"}]}
{"id":"mcb-wla","title":"Add core library dependencies","description":"Add the required dependencies for the circuit breaker library.\n\n## Core Dependencies\n```cabal\nbuild-depends:\n  , base \u003e= 4.17 \u0026\u0026 \u003c 5\n  , stm \u003e= 2.5\n  , exceptions \u003e= 0.10\n  , time \u003e= 1.9\n  , text \u003e= 2.0\n  , containers \u003e= 0.6\n  , async \u003e= 2.2\n```\n\n## Optional Dependencies (via flags)\n```cabal\nflag opentelemetry\n  description: Enable OpenTelemetry integration\n  default: True\n  manual: True\n\nlibrary\n  if flag(opentelemetry)\n    build-depends: hs-opentelemetry-api \u003e= 0.1\n    cpp-options: -DOPENTELEMETRY\n```\n\n## Version Bounds\n- Use PVP-compliant version bounds\n- Test with both lower and upper bounds in CI\n- Document why specific versions are required\n\n## Acceptance Criteria\n- All required dependencies declared\n- Version bounds are reasonable (not too tight)\n- Optional dependencies work via flags\n- Builds with latest Stackage LTS","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T16:09:31.045051+05:30","updated_at":"2025-12-19T16:30:08.950962+05:30","closed_at":"2025-12-19T16:30:08.950962+05:30","close_reason":"GHC warnings configured, core dependencies added. Build and tests pass.","dependencies":[{"issue_id":"mcb-wla","depends_on_id":"mcb-vz9","type":"blocks","created_at":"2025-12-19T16:09:40.082276+05:30","created_by":"daemon"}]}
{"id":"mcb-x24","title":"Define SlidingWindow data type","description":"Create SlidingWindow with Seq Bool for results, windowSize Int, cachedFailureCount Int. Use strict fields to avoid space leaks.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:27.035426+05:30","updated_at":"2026-01-08T12:30:23.790247+05:30","closed_at":"2026-01-08T12:30:23.790247+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-x24","depends_on_id":"mcb-r5b","type":"blocks","created_at":"2025-12-19T16:00:36.02913+05:30","created_by":"daemon"}]}
{"id":"mcb-x8m","title":"Set up doctest validation","description":"Configure doctest to verify all Haddock examples compile and run. Add to CI.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:56.019152+05:30","updated_at":"2026-01-08T13:30:48.488081+05:30","closed_at":"2026-01-08T13:30:48.488081+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-x8m","depends_on_id":"mcb-ehm","type":"blocks","created_at":"2025-12-19T16:02:04.25295+05:30","created_by":"daemon"},{"issue_id":"mcb-x8m","depends_on_id":"mcb-tsy","type":"blocks","created_at":"2025-12-19T16:02:11.330542+05:30","created_by":"daemon"}]}
{"id":"mcb-xat","title":"Fix HalfOpen permit race condition allowing more than maxPermits concurrent operations","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-08T18:22:00.638783+05:30","updated_at":"2026-01-08T20:02:48.56343+05:30","closed_at":"2026-01-08T20:02:48.56343+05:30","close_reason":"Not a bug: STM atomicity is correct. Added test with 150 threads proving exactly maxPermits concurrent HalfOpen ops."}
{"id":"mcb-xsf","title":"Unit tests for sliding window edge cases","description":"Test empty window (0.0 rate), full failures (1.0 rate), full successes (0.0 rate), mixed results, eviction behavior.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:27.741252+05:30","updated_at":"2026-01-08T12:34:30.531997+05:30","closed_at":"2026-01-08T12:34:30.531997+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-xsf","depends_on_id":"mcb-r5b","type":"blocks","created_at":"2025-12-19T16:00:37.495458+05:30","created_by":"daemon"},{"issue_id":"mcb-xsf","depends_on_id":"mcb-tji","type":"blocks","created_at":"2025-12-19T16:00:37.689651+05:30","created_by":"daemon"}]}
{"id":"mcb-yfy","title":"Design rationale documentation","description":"Document key decisions: STM choice, lazy timers, exception-based errors, MonadIO constraint.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:01:55.611916+05:30","updated_at":"2026-01-08T13:30:48.294157+05:30","closed_at":"2026-01-08T13:30:48.294157+05:30","close_reason":"Closed","dependencies":[{"issue_id":"mcb-yfy","depends_on_id":"mcb-ehm","type":"blocks","created_at":"2025-12-19T16:02:03.917799+05:30","created_by":"daemon"},{"issue_id":"mcb-yfy","depends_on_id":"mcb-j1h","type":"blocks","created_at":"2025-12-19T16:02:10.951264+05:30","created_by":"daemon"}]}
{"id":"mcb-z50","title":"Create common exception predicate helpers","description":"Provide ignoreHttpClientErrors (4xx), countServerErrors (5xx), ignoreBusinessExceptions pattern. Parent: mcb-d7m. Depends on: predicate integration","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T16:00:54.442885+05:30","updated_at":"2026-01-08T14:36:18.485634+05:30","closed_at":"2026-01-08T14:36:18.485634+05:30","close_reason":"Created CircuitBreaker.Predicate with helper predicates","dependencies":[{"issue_id":"mcb-z50","depends_on_id":"mcb-d7m","type":"blocks","created_at":"2025-12-19T16:01:04.243414+05:30","created_by":"daemon"},{"issue_id":"mcb-z50","depends_on_id":"mcb-fcj","type":"blocks","created_at":"2025-12-19T16:01:04.43742+05:30","created_by":"daemon"}]}
